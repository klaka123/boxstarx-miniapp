<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BoxStarX PRO üöÄ –ö–æ—Å–º–∏—á–µ—Å–∫–∞—è –≠–ª–∏—Ç–∞</title>
    <style>
        /* ========== –ü–†–ï–ú–ò–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        }

        body {
            overflow-x: hidden;
            color: #fff;
            background: #000;
        }

        /* ========== –ù–ï–í–ï–†–û–Ø–¢–ù–´–ô –ó–í–ï–ó–î–ù–´–ô –§–û–ù ========== */
        #starCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(ellipse at 20% 30%, #1a2a3a 0%, #0a0e1a 50%, #030408 100%);
            display: block;
            pointer-events: none;
        }

        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ª–æ–π —Ç—É–º–∞–Ω–Ω–æ—Å—Ç–∏ */
        .nebula {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 70% 20%, rgba(100, 50, 150, 0.2) 0%, transparent 40%),
                        radial-gradient(circle at 20% 80%, rgba(50, 100, 200, 0.15) 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, rgba(200, 100, 150, 0.1) 0%, transparent 50%);
            z-index: 1;
            pointer-events: none;
            mix-blend-mode: screen;
        }

        /* –ü–∞—Ä—è—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) translateX(0); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(-100px) translateX(100px); opacity: 0; }
        }

        /* 3D –ö–∞–Ω–≤–∞—Å –¥–ª—è —Å–∞–º–æ–ª–µ—Ç–∞ */
        #planeCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –¥–ª—è —Å–∞–º–æ–ª–µ—Ç–∞ */
        .plane-glow {
            position: fixed;
            top: 50%;
            left: 0;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(30px);
            z-index: 4;
            pointer-events: none;
            transform: translateY(-50%);
            transition: left 0.05s linear;
        }

        /* –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å */
        .splash-title {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(4rem, 15vw, 7rem);
            font-weight: 900;
            z-index: 2000;
            background: linear-gradient(135deg, #fff6d5, #ffd966, #ffaa33, #ff6b6b, #c0a0ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 50px rgba(255, 215, 0, 0.8), 0 0 100px rgba(255, 100, 0, 0.5);
            letter-spacing: 15px;
            animation: epicReveal 3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            white-space: nowrap;
            pointer-events: none;
            text-transform: uppercase;
        }

        @keyframes epicReveal {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(1.5); filter: blur(0); letter-spacing: 30px; }
            30% { opacity: 1; transform: translate(-50%, -50%) scale(1); filter: blur(0); letter-spacing: 15px; }
            70% { opacity: 0.8; transform: translate(-50%, -50%) scale(0.9); filter: blur(2px); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); filter: blur(10px); visibility: hidden; }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .content {
            position: relative;
            z-index: 20;
            min-height: 100vh;
            padding: 20px 20px 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* ========== –ü–†–ï–ú–ò–£–ú HUD ========== */
        .hud {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
            background: rgba(5, 10, 25, 0.6);
            backdrop-filter: blur(20px) saturate(200%);
            -webkit-backdrop-filter: blur(20px) saturate(200%);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 60px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 215, 0, 0.2) inset;
            flex-wrap: wrap;
            gap: 15px;
        }

        .balance-block {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .balance {
            background: linear-gradient(145deg, #1e2638, #0f1625);
            padding: 12px 28px;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: 700;
            border: 1px solid #ffd966;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .balance::before {
            content: "‚≠ê";
            font-size: 1.8rem;
            filter: drop-shadow(0 0 10px gold);
        }

        .balance::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,215,0,0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            20% { transform: translateX(100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }

        .add-balance {
            background: linear-gradient(135deg, #2e7d32, #1b5e20);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid #81c784;
            box-shadow: 0 5px 20px rgba(46, 125, 50, 0.4);
            position: relative;
            overflow: hidden;
        }

        .add-balance:hover {
            transform: translateY(-3px);
            filter: brightness(1.2);
            box-shadow: 0 15px 30px rgba(46, 125, 50, 0.6);
        }

        .bet-panel {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 0, 0, 0.4);
            padding: 8px 20px;
            border-radius: 50px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .bet-panel label {
            color: #aaa;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .bet-panel input {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid #ffd966;
            color: #ffd966;
            padding: 10px 16px;
            border-radius: 40px;
            width: 100px;
            font-weight: bold;
            font-size: 1.1rem;
            text-align: center;
            outline: none;
            transition: all 0.3s;
        }

        .bet-panel input:focus {
            border-color: white;
            box-shadow: 0 0 30px gold;
        }

        .flight-controls {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 14px 35px;
            border: none;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%) rotate(45deg);
            transition: transform 0.6s;
        }

        .btn:hover::after {
            transform: translateX(100%) rotate(45deg);
        }

        .btn-start {
            background: linear-gradient(135deg, #f9d423, #fdaa33);
            color: #1a1e2b;
            box-shadow: 0 10px 25px rgba(249, 212, 35, 0.4);
        }

        .btn-start:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 20px 35px rgba(249, 212, 35, 0.6);
        }

        .btn-stop {
            background: linear-gradient(135deg, #dc3545, #b02a37);
            color: white;
            box-shadow: 0 10px 25px rgba(220, 53, 69, 0.4);
        }

        .btn-stop:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 20px 35px rgba(220, 53, 69, 0.6);
        }

        .btn-stop:disabled, .btn-start:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª–µ—Ç–µ */
        .flight-info {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid gold;
            border-radius: 60px;
            padding: 15px 35px;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.4rem;
            font-weight: bold;
            box-shadow: 0 0 30px rgba(255,215,0,0.2);
        }

        .multiplier {
            color: #ffd966;
            text-shadow: 0 0 20px gold, 0 0 40px #ffaa33;
            font-size: 2.2rem;
            font-weight: 800;
        }

        /* ========== –ö–ï–ô–°–´ –í –°–¢–ò–õ–ï ROCKET CASE ========== */
        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            margin: 60px 0 40px;
            background: linear-gradient(135deg, #fff, #ffd966, #ffaa33, #ff6b6b);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-transform: uppercase;
            letter-spacing: 5px;
            text-shadow: 0 0 50px rgba(255,215,0,0.5);
            position: relative;
        }

        .section-title::before,
        .section-title::after {
            content: '‚ö°';
            margin: 0 20px;
            opacity: 0.7;
        }

        .cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 40px 0;
            perspective: 1500px;
        }

        .case-card {
            background: linear-gradient(145deg, #1e2842, #0e162a);
            border-radius: 40px;
            padding: 30px 20px 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid transparent;
            background-image: linear-gradient(#1e2842, #0e162a), 
                            linear-gradient(135deg, gold, #ff6b6b, #aaffaa, gold);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            box-shadow: 0 30px 50px -20px black, 0 0 0 2px rgba(255,215,0,0.2) inset;
            position: relative;
            transform-style: preserve-3d;
        }

        .case-card:hover {
            transform: translateY(-20px) rotateX(5deg) scale(1.02);
            box-shadow: 0 50px 70px -20px black, 0 0 60px gold;
        }

        .case-rarity {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, gold, #ffaa33);
            color: #000;
            padding: 8px 25px;
            border-radius: 40px;
            font-weight: 800;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            white-space: nowrap;
        }

        .case-icon {
            font-size: 5rem;
            margin: 20px 0 15px;
            filter: drop-shadow(0 0 30px gold);
            transition: transform 0.5s;
        }

        .case-card:hover .case-icon {
            transform: scale(1.2) rotate(10deg);
        }

        .case-name {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #fff, #ffd966);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .case-price {
            font-size: 2.2rem;
            font-weight: 900;
            margin: 15px 0;
            background: linear-gradient(135deg, #ffd966, #ffaa33);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(255,215,0,0.5);
        }

        .case-items-preview {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0 10px;
        }

        .preview-item {
            width: 45px;
            height: 45px;
            background: rgba(255,215,0,0.1);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            border: 1px solid gold;
            transition: all 0.3s;
        }

        .preview-item:hover {
            transform: scale(1.1);
            background: rgba(255,215,0,0.2);
        }

        .case-chance {
            color: #ffaaaa;
            font-size: 0.9rem;
            margin-top: 15px;
            padding: 8px;
            background: rgba(255,0,0,0.1);
            border-radius: 30px;
            border: 1px solid rgba(255,100,100,0.3);
        }

        /* ========== TELEGRAM –ü–û–î–ê–†–ö–ò ========== */
        .gifts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .gift-card {
            background: linear-gradient(145deg, #2a2f45, #1a1f30);
            border-radius: 30px;
            padding: 25px 15px;
            text-align: center;
            border: 2px solid gold;
            transition: all 0.4s;
            cursor: pointer;
            position: relative;
            backdrop-filter: blur(5px);
        }

        .gift-card:hover {
            transform: translateY(-10px) scale(1.05);
            border-color: #ffaa33;
            box-shadow: 0 0 50px gold;
        }

        .gift-emoji {
            font-size: 3.5rem;
            filter: drop-shadow(0 0 20px currentColor);
            margin-bottom: 15px;
            transition: transform 0.3s;
        }

        .gift-card:hover .gift-emoji {
            transform: scale(1.2) rotate(5deg);
        }

        .gift-name {
            font-weight: 700;
            font-size: 1.2rem;
            margin: 10px 0;
            color: gold;
        }

        .gift-price {
            background: rgba(0,0,0,0.5);
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 1rem;
            display: inline-block;
            border: 1px solid gold;
        }

        /* ========== –°–ò–°–¢–ï–ú–ê –ê–ü–ì–†–ï–ô–î–ê ========== */
        .upgrade-section {
            background: rgba(10, 15, 30, 0.7);
            backdrop-filter: blur(15px);
            border-radius: 60px;
            padding: 40px;
            margin: 50px 0;
            border: 1px solid gold;
            box-shadow: 0 0 50px rgba(255,215,0,0.2);
        }

        .upgrade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .upgrade-card {
            background: linear-gradient(145deg, #1e2638, #0f1625);
            border-radius: 40px;
            padding: 30px;
            border: 2px solid transparent;
            background-image: linear-gradient(#1e2638, #0f1625), 
                            linear-gradient(135deg, gold, #ff6b6b, #4a90e2);
            background-origin: border-box;
            background-clip: padding-box, border-box;
            cursor: pointer;
            transition: all 0.4s;
        }

        .upgrade-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 50px rgba(0,0,0,0.8);
        }

        .upgrade-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .upgrade-icon {
            font-size: 3rem;
            filter: drop-shadow(0 0 15px gold);
        }

        .upgrade-info {
            flex: 1;
        }

        .upgrade-name {
            font-weight: 800;
            font-size: 1.4rem;
            color: gold;
            margin-bottom: 5px;
        }

        .upgrade-level {
            color: #aaa;
            font-size: 1rem;
        }

        .upgrade-stats {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            color: #ddd;
            font-size: 1.1rem;
        }

        .upgrade-price {
            background: linear-gradient(135deg, gold, #ffaa33);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 900;
            font-size: 1.8rem;
            text-align: center;
            margin: 15px 0;
        }

        .upgrade-btn {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            border: none;
            color: white;
            padding: 15px;
            border-radius: 50px;
            width: 100%;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid gold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .upgrade-btn:hover:not(:disabled) {
            filter: brightness(1.2);
            transform: scale(1.02);
            box-shadow: 0 0 30px gold;
        }

        .upgrade-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ========== –ò–ù–í–ï–ù–¢–ê–†–¨ ========== */
        .inventory-section {
            background: rgba(10, 15, 30, 0.7);
            backdrop-filter: blur(15px);
            border-radius: 60px;
            padding: 40px;
            margin: 50px 0;
            border: 1px solid gold;
            box-shadow: 0 0 50px rgba(255,215,0,0.2);
        }

        .inventory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .inventory-stats {
            background: rgba(0,0,0,0.5);
            padding: 10px 25px;
            border-radius: 50px;
            color: gold;
            font-size: 1.2rem;
            border: 1px solid gold;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 20px;
        }

        .inventory-slot {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #ffd966;
            border-radius: 25px;
            padding: 20px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            aspect-ratio: 1 / 1;
            backdrop-filter: blur(5px);
        }

        .inventory-slot:hover {
            transform: scale(1.08);
            border-color: white;
            box-shadow: 0 0 30px gold;
            z-index: 10;
        }

        .slot-emoji {
            font-size: 2.8rem;
            filter: drop-shadow(0 0 10px gold);
        }

        .slot-name {
            font-size: 0.8rem;
            text-align: center;
            font-weight: 600;
            color: gold;
        }

        .slot-level {
            position: absolute;
            top: -8px;
            right: -8px;
            background: linear-gradient(135deg, gold, #ffaa33);
            color: black;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 0.9rem;
            border: 2px solid white;
            box-shadow: 0 0 15px gold;
        }

        .empty-slot {
            background: rgba(255, 255, 255, 0.03);
            border: 2px dashed #555;
            border-radius: 25px;
            aspect-ratio: 1 / 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 120px;
            left: 50%;
            transform: translateX(-50%);
            padding: 18px 40px;
            border-radius: 60px;
            font-weight: 700;
            font-size: 1.1rem;
            z-index: 10000;
            animation: notificationSlide 0.4s ease;
            box-shadow: 0 20px 40px black;
            border: 1px solid gold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        @keyframes notificationSlide {
            from { top: 50px; opacity: 0; transform: translateX(-50%) scale(0.8); }
            to { top: 120px; opacity: 1; transform: translateX(-50%) scale(1); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .hud {
                flex-direction: column;
                border-radius: 40px;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .cases-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω -->
    <canvas id="starCanvas"></canvas>
    <div class="nebula"></div>
    <div class="particles" id="particles"></div>
    
    <!-- 3D –°–∞–º–æ–ª–µ—Ç -->
    <canvas id="planeCanvas"></canvas>
    <div class="plane-glow" id="planeGlow"></div>

    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å -->
    <div class="splash-title">BOXSTARX ELITE</div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="content">
        <!-- HUD –ø–∞–Ω–µ–ª—å -->
        <div class="hud">
            <div class="balance-block">
                <div class="balance">
                    <span id="balance">5000</span>
                </div>
                <button class="add-balance" id="addBalance">‚ûï +100</button>
            </div>

            <div class="bet-panel">
                <label>üí∞ –°–¢–ê–í–ö–ê</label>
                <input type="number" id="betAmount" min="10" value="100" step="10">
            </div>

            <div class="flight-controls">
                <button class="btn btn-start" id="startFlight">üöÄ –í–ó–õ–ï–¢</button>
                <button class="btn btn-stop" id="stopFlight" disabled>‚èπÔ∏è –°–¢–û–ü</button>
            </div>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª–µ—Ç–µ -->
        <div class="flight-info">
            <span>üöÄ –ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –ü–û–õ–ï–¢</span>
            <span class="multiplier" id="flightStatus">–û–ñ–ò–î–ê–ù–ò–ï</span>
        </div>

        <!-- –ö–µ–π—Å—ã –∫–∞–∫ –≤ RocketCase -->
        <h2 class="section-title">–ö–û–°–ú–ò–ß–ï–°–ö–ò–ï –ö–ï–ô–°–´</h2>
        <div class="cases-grid" id="casesContainer"></div>

        <!-- Telegram –ø–æ–¥–∞—Ä–∫–∏ -->
        <h2 class="section-title">TELEGRAM –ü–û–î–ê–†–ö–ò</h2>
        <div class="gifts-grid" id="giftsContainer"></div>

        <!-- –°–∏—Å—Ç–µ–º–∞ –∞–ø–≥—Ä–µ–π–¥–∞ -->
        <div class="upgrade-section">
            <h2 class="section-title">‚ö° –ü–†–û–ö–ê–ß–ö–ê ‚ö°</h2>
            <div class="upgrade-grid" id="upgradesContainer"></div>
        </div>

        <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
        <div class="inventory-section">
            <div class="inventory-header">
                <h2 class="section-title" style="margin:0;">üì¶ –ò–ù–í–ï–ù–¢–ê–†–¨</h2>
                <div class="inventory-stats" id="inventoryStats">0/20</div>
            </div>
            <div class="inventory-grid" id="inventoryGrid"></div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.128.0/build/three.module.js"
            }
        }
    </script>

    <script type="module">
        // ==================== 1. –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –ó–í–ï–ó–î–ù–´–ô –§–û–ù ====================
        const starCanvas = document.getElementById('starCanvas');
        const ctx = starCanvas.getContext('2d');
        let width, height;
        
        // –ú–∞—Å—Å–∏–≤—ã –¥–ª—è –∑–≤–µ–∑–¥
        let stars = [];
        let shootingStars = [];
        let bigStars = [];
        
        const STAR_COUNT = 600;
        const SHOOTING_STAR_COUNT = 8;
        const BIG_STAR_COUNT = 30;

        function initStars() {
            stars = [];
            for (let i = 0; i < STAR_COUNT; i++) {
                stars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 2 + 0.5,
                    speed: Math.random() * 0.3 + 0.1,
                    brightness: Math.random() * 0.5 + 0.3,
                    flickerSpeed: Math.random() * 0.03 + 0.01,
                    color: `hsl(${Math.random() * 60 + 30}, 80%, ${Math.random() * 50 + 50}%)`
                });
            }

            bigStars = [];
            for (let i = 0; i < BIG_STAR_COUNT; i++) {
                bigStars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 4 + 2,
                    speed: Math.random() * 0.1 + 0.05,
                    brightness: Math.random() * 0.5 + 0.5,
                    color: `hsl(${Math.random() * 60 + 30}, 90%, 80%)`
                });
            }

            shootingStars = [];
            for (let i = 0; i < SHOOTING_STAR_COUNT; i++) {
                shootingStars.push(createShootingStar());
            }
        }

        function createShootingStar() {
            return {
                x: Math.random() * width,
                y: Math.random() * height * 0.3,
                length: Math.random() * 150 + 100,
                speed: Math.random() * 8 + 5,
                angle: Math.random() * 0.4 + 0.3,
                tail: [],
                brightness: Math.random() * 0.5 + 0.5,
                color: `hsl(${Math.random() * 40 + 20}, 100%, 70%)`
            };
        }

        function drawStars() {
            ctx.clearRect(0, 0, width, height);
            
            // –ì–ª—É–±–æ–∫–∏–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω
            const gradient = ctx.createRadialGradient(width/2, height/2, 0, width/2, height/2, width);
            gradient.addColorStop(0, '#0a0e1a');
            gradient.addColorStop(0.5, '#03050f');
            gradient.addColorStop(1, '#000000');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            
            // –ú–µ—Ä—Ü–∞—é—â–∏–µ –∑–≤–µ–∑–¥—ã
            stars.forEach(star => {
                star.y += star.speed * 0.1;
                if (star.y > height) {
                    star.y = 0;
                    star.x = Math.random() * width;
                }
                
                star.brightness += star.flickerSpeed;
                if (star.brightness > 1 || star.brightness < 0.3) star.flickerSpeed *= -1;
                
                ctx.globalAlpha = star.brightness;
                ctx.fillStyle = star.color;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fill();
            });

            // –ö—Ä—É–ø–Ω—ã–µ –∑–≤–µ–∑–¥—ã —Å –º–µ—Ä—Ü–∞–Ω–∏–µ–º
            bigStars.forEach(star => {
                star.brightness += 0.01;
                if (star.brightness > 1 || star.brightness < 0.6) {
                    star.brightness = Math.random() * 0.4 + 0.6;
                }
                
                ctx.globalAlpha = star.brightness;
                ctx.fillStyle = star.color;
                ctx.shadowColor = star.color;
                ctx.shadowBlur = 15;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fill();
            });

            // –ü–∞–¥–∞—é—â–∏–µ –∑–≤–µ–∑–¥—ã (—á–∞—Å—Ç—ã–µ)
            ctx.shadowBlur = 20;
            ctx.lineWidth = 3;
            
            shootingStars.forEach(star => {
                // –î–≤–∏–∂–µ–Ω–∏–µ
                star.x += star.speed * Math.cos(star.angle);
                star.y += star.speed * Math.sin(star.angle);
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ö–≤–æ—Å—Ç
                star.tail.push({ x: star.x, y: star.y });
                if (star.tail.length > 15) star.tail.shift();
                
                // –†–∏—Å—É–µ–º —Ö–≤–æ—Å—Ç
                for (let i = 0; i < star.tail.length; i++) {
                    const point = star.tail[i];
                    const alpha = (i / star.tail.length) * 0.8;
                    ctx.globalAlpha = alpha * star.brightness;
                    
                    ctx.beginPath();
                    ctx.arc(point.x, point.y, 2, 0, Math.PI * 2);
                    ctx.fillStyle = star.color;
                    ctx.fill();
                }
                
                // –†–∏—Å—É–µ–º –≥–æ–ª–æ–≤—É
                ctx.globalAlpha = star.brightness;
                ctx.fillStyle = 'white';
                ctx.shadowColor = star.color;
                ctx.beginPath();
                ctx.arc(star.x, star.y, 4, 0, Math.PI * 2);
                ctx.fill();
                
                // –°–±—Ä–æ—Å
                if (star.y > height + 100 || star.x > width + 100) {
                    Object.assign(star, createShootingStar());
                }
            });
            
            ctx.shadowBlur = 0;
            ctx.shadowColor = 'transparent';
        }

        // ==================== 2. –¢–†–ï–•–ú–ï–†–ù–´–ô –°–ê–ú–û–õ–ï–¢ (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô) ====================
        import * as THREE from 'three';

        const planeCanvas = document.getElementById('planeCanvas');
        const scene = new THREE.Scene();
        scene.background = null;
        
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 2, 12);
        camera.lookAt(0, 0, 0);
        
        const renderer = new THREE.WebGLRenderer({ canvas: planeCanvas, alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;

        // –û—Å–≤–µ—â–µ–Ω–∏–µ
        const ambientLight = new THREE.AmbientLight(0x404060);
        scene.add(ambientLight);
        
        const dirLight = new THREE.DirectionalLight(0xffeedd, 1.2);
        dirLight.position.set(2, 3, 4);
        dirLight.castShadow = true;
        dirLight.shadow.mapSize.width = 1024;
        dirLight.shadow.mapSize.height = 1024;
        scene.add(dirLight);
        
        const backLight = new THREE.PointLight(0x4466ff, 1);
        backLight.position.set(-2, 1, -3);
        scene.add(backLight);

        // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–º–∏—É–º —Å–∞–º–æ–ª–µ—Ç–∞
        const planeGroup = new THREE.Group();

        // –ö–æ—Ä–ø—É—Å (–º–µ—Ç–∞–ª–ª–∏–∫)
        const bodyGeo = new THREE.CylinderGeometry(0.6, 0.6, 2.4, 16);
        const bodyMat = new THREE.MeshStandardMaterial({ 
            color: 0x3a6ea5, 
            emissive: 0x112233,
            metalness: 0.8,
            roughness: 0.2,
            emissiveIntensity: 0.3
        });
        const body = new THREE.Mesh(bodyGeo, bodyMat);
        body.rotation.x = Math.PI / 2;
        body.castShadow = true;
        body.receiveShadow = true;
        planeGroup.add(body);

        // –ù–æ—Å (–∑–æ–ª–æ—Ç–æ–π)
        const noseGeo = new THREE.ConeGeometry(0.6, 0.9, 16);
        const noseMat = new THREE.MeshStandardMaterial({ color: 0xffaa33, metalness: 0.9, roughness: 0.1, emissive: 0x442200 });
        const nose = new THREE.Mesh(noseGeo, noseMat);
        nose.position.z = 1.4;
        nose.rotation.x = Math.PI / 2;
        nose.castShadow = true;
        planeGroup.add(nose);

        // –ö—Ä—ã–ª—å—è —Å —Ç–∏—Ç–∞–Ω–æ–≤—ã–º –±–ª–µ—Å–∫–æ–º
        const wingGeo = new THREE.BoxGeometry(2.4, 0.15, 0.9);
        const wingMat = new THREE.MeshStandardMaterial({ color: 0x2a5a8c, metalness: 0.9, roughness: 0.3 });
        const wings = new THREE.Mesh(wingGeo, wingMat);
        wings.position.y = 0;
        wings.castShadow = true;
        wings.receiveShadow = true;
        planeGroup.add(wings);

        // –•–≤–æ—Å—Ç
        const tailGeo = new THREE.BoxGeometry(0.4, 0.9, 0.9);
        const tailMat = new THREE.MeshStandardMaterial({ color: 0x2a5a8c, metalness: 0.8 });
        const tail = new THREE.Mesh(tailGeo, tailMat);
        tail.position.y = 0.5;
        tail.position.z = -1.0;
        tail.castShadow = true;
        planeGroup.add(tail);

        // –¢—É—Ä–±–∏–Ω—ã —Å–æ —Å–≤–µ—Ç–æ–º
        const turbineGeo = new THREE.CylinderGeometry(0.35, 0.35, 0.5, 12);
        const turbineMat = new THREE.MeshStandardMaterial({ 
            color: 0xcccccc, 
            emissive: 0x4466ff,
            emissiveIntensity: 0.8
        });
        
        const turbine1 = new THREE.Mesh(turbineGeo, turbineMat);
        turbine1.position.set(0.8, -0.2, -1.0);
        turbine1.rotation.x = Math.PI / 2;
        turbine1.castShadow = true;
        planeGroup.add(turbine1);
        
        const turbine2 = new THREE.Mesh(turbineGeo, turbineMat);
        turbine2.position.set(-0.8, -0.2, -1.0);
        turbine2.rotation.x = Math.PI / 2;
        turbine2.castShadow = true;
        planeGroup.add(turbine2);

        // –°–≤–µ—Ç–æ–≤—ã–µ —à–∞—Ä—ã
        const lightGeo = new THREE.SphereGeometry(0.2, 8);
        const lightMat = new THREE.MeshStandardMaterial({ color: 0xffaa33, emissive: 0xff4400 });
        const light1 = new THREE.Mesh(lightGeo, lightMat);
        light1.position.set(0.3, 0.1, 1.5);
        planeGroup.add(light1);
        
        const light2 = new THREE.Mesh(lightGeo, lightMat);
        light2.position.set(-0.3, 0.1, 1.5);
        planeGroup.add(light2);

        scene.add(planeGroup);
        planeGroup.position.x = -5; // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è

        // –ó–≤–µ–∑–¥—ã –≤–æ–∫—Ä—É–≥
        const starField = [];
        for (let i = 0; i < 100; i++) {
            const starGeo = new THREE.SphereGeometry(0.03, 4);
            const starMat = new THREE.MeshStandardMaterial({ color: 0xffffff, emissive: 0xaaaaff });
            const star = new THREE.Mesh(starGeo, starMat);
            star.position.set(
                (Math.random() - 0.5) * 30,
                (Math.random() - 0.5) * 20,
                (Math.random() - 0.5) * 30 - 10
            );
            scene.add(star);
            starField.push(star);
        }

        // ==================== 3. –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê ====================
        let balance = 5000;
        let isFlying = false;
        let currentMultiplier = 1;
        let planeInterval = null;
        let planePosition = -5;
        
        // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
        let inventory = [];
        const MAX_INVENTORY = 20;
        
        // –£—Ä–æ–≤–Ω–∏ –∞–ø–≥—Ä–µ–π–¥–∞
        let upgrades = {
            luck: { level: 1, value: 1, price: 500 },
            multiplier: { level: 1, value: 1, price: 800 },
            protection: { level: 1, value: 1, price: 600 },
            giftChance: { level: 1, value: 1, price: 1000 }
        };

        // Telegram –ø–æ–¥–∞—Ä–∫–∏
        const TELEGRAM_GIFTS = [
            { id: 'star', emoji: '‚≠ê', name: '–ó–≤–µ–∑–¥–∞', basePrice: 50, level: 1 },
            { id: 'heart', emoji: '‚ù§Ô∏è', name: '–°–µ—Ä–¥—Ü–µ', basePrice: 75, level: 1 },
            { id: 'fire', emoji: 'üî•', name: '–û–≥–æ–Ω—å', basePrice: 100, level: 1 },
            { id: 'diamond', emoji: 'üíé', name: '–ê–ª–º–∞–∑', basePrice: 200, level: 1 },
            { id: 'crown', emoji: 'üëë', name: '–ö–æ—Ä–æ–Ω–∞', basePrice: 500, level: 1 },
            { id: 'rocket', emoji: 'üöÄ', name: '–†–∞–∫–µ—Ç–∞', basePrice: 750, level: 2 },
            { id: 'trophy', emoji: 'üèÜ', name: '–¢—Ä–æ—Ñ–µ–π', basePrice: 1000, level: 2 },
            { id: 'alien', emoji: 'üëæ', name: '–ò–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω', basePrice: 1500, level: 3 }
        ];

        // –ö–µ–π—Å—ã –∫–∞–∫ –≤ RocketCase
        const CASES = [
            {
                id: 'common',
                name: '–°–¢–ê–†–¢–û–í–´–ô',
                icon: 'üì¶',
                price: 100,
                rarity: '–û–ë–´–ß–ù–´–ô',
                items: [
                    { emoji: '‚≠ê', name: '–ó–≤–µ–∑–¥–∞', chance: 5, level: 1 },
                    { emoji: '‚ù§Ô∏è', name: '–°–µ—Ä–¥—Ü–µ', chance: 3, level: 1 },
                    { emoji: 'üî•', name: '–û–≥–æ–Ω—å', chance: 2, level: 1 }
                ],
                loseChance: 90
            },
            {
                id: 'rare',
                name: '–ü–†–û–î–í–ò–ù–£–¢–´–ô',
                icon: '‚ú®',
                price: 300,
                rarity: '–†–ï–î–ö–ò–ô',
                items: [
                    { emoji: 'üî•', name: '–û–≥–æ–Ω—å', chance: 4, level: 1 },
                    { emoji: 'üíé', name: '–ê–ª–º–∞–∑', chance: 3, level: 1 },
                    { emoji: 'üëë', name: '–ö–æ—Ä–æ–Ω–∞', chance: 2, level: 1 },
                    { emoji: 'üöÄ', name: '–†–∞–∫–µ—Ç–∞', chance: 1, level: 2 }
                ],
                loseChance: 90
            },
            {
                id: 'epic',
                name: '–≠–ü–ò–ß–ï–°–ö–ò–ô',
                icon: 'üíé',
                price: 600,
                rarity: '–≠–ü–ò–ß–ï–°–ö–ò–ô',
                items: [
                    { emoji: 'üëë', name: '–ö–æ—Ä–æ–Ω–∞', chance: 4, level: 1 },
                    { emoji: 'üöÄ', name: '–†–∞–∫–µ—Ç–∞', chance: 3, level: 2 },
                    { emoji: 'üèÜ', name: '–¢—Ä–æ—Ñ–µ–π', chance: 2, level: 2 },
                    { emoji: 'üëæ', name: '–ò–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω', chance: 1, level: 3 }
                ],
                loseChance: 90
            },
            {
                id: 'legendary',
                name: '–õ–ï–ì–ï–ù–î–ê–†–ù–´–ô',
                icon: 'üëë',
                price: 1000,
                rarity: '–õ–ï–ì–ï–ù–î–ê–†–ù–´–ô',
                items: [
                    { emoji: 'üöÄ', name: '–†–∞–∫–µ—Ç–∞', chance: 4, level: 2 },
                    { emoji: 'üèÜ', name: '–¢—Ä–æ—Ñ–µ–π', chance: 3, level: 2 },
                    { emoji: 'üëæ', name: '–ò–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω', chance: 2, level: 3 },
                    { emoji: 'üí´', name: '–ö–æ–º–µ—Ç–∞', chance: 1, level: 3 }
                ],
                loseChance: 90
            },
            {
                id: 'mythic',
                name: '–ú–ò–§–ò–ß–ï–°–ö–ò–ô',
                icon: '‚ö°',
                price: 2000,
                rarity: '–ú–ò–§–ò–ß–ï–°–ö–ò–ô',
                items: [
                    { emoji: 'üèÜ', name: '–¢—Ä–æ—Ñ–µ–π', chance: 4, level: 2 },
                    { emoji: 'üëæ', name: '–ò–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω', chance: 3, level: 3 },
                    { emoji: 'üí´', name: '–ö–æ–º–µ—Ç–∞', chance: 2, level: 3 },
                    { emoji: 'üå†', name: '–ú–µ—Ç–µ–æ—Ä', chance: 1, level: 4 }
                ],
                loseChance: 90
            }
        ];

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const balanceEl = document.getElementById('balance');
        const betInput = document.getElementById('betAmount');
        const startBtn = document.getElementById('startFlight');
        const stopBtn = document.getElementById('stopFlight');
        const addBalanceBtn = document.getElementById('addBalance');
        const flightStatus = document.getElementById('flightStatus');
        const inventoryGrid = document.getElementById('inventoryGrid');
        const inventoryStats = document.getElementById('inventoryStats');
        const planeGlow = document.getElementById('planeGlow');
        const casesContainer = document.getElementById('casesContainer');
        const giftsContainer = document.getElementById('giftsContainer');
        const upgradesContainer = document.getElementById('upgradesContainer');

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function updateBalanceUI() {
            balanceEl.textContent = balance;
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.style.background = type === 'success' ? 'linear-gradient(135deg, #2e7d32, #1b5e20)' : 
                                   type === 'error' ? 'linear-gradient(135deg, #b71c1c, #8b0000)' : 
                                   'linear-gradient(135deg, #1976d2, #0d47a1)';
            notif.textContent = message;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 2000);
        }

        // –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
        function addToInventory(item) {
            if (inventory.length >= MAX_INVENTORY) {
                showNotification('‚ùå –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª–æ–Ω!', 'error');
                return false;
            }
            inventory.push(item);
            updateInventoryUI();
            showNotification(`üéÅ –ü–æ–ª—É—á–µ–Ω: ${item.name}`, 'success');
            return true;
        }

        function updateInventoryUI() {
            inventoryGrid.innerHTML = '';
            inventoryStats.textContent = `${inventory.length}/${MAX_INVENTORY}`;
            
            if (inventory.length === 0) {
                for (let i = 0; i < 8; i++) {
                    const empty = document.createElement('div');
                    empty.className = 'empty-slot';
                    empty.textContent = '–ø—É—Å—Ç–æ';
                    inventoryGrid.appendChild(empty);
                }
                return;
            }
            
            inventory.forEach((item, index) => {
                const slot = document.createElement('div');
                slot.className = 'inventory-slot';
                slot.innerHTML = `
                    <div class="slot-emoji">${item.emoji}</div>
                    <div class="slot-name">${item.name}</div>
                    <div class="slot-level">${item.level || 1}</div>
                `;
                slot.addEventListener('click', () => sellItem(index));
                inventoryGrid.appendChild(slot);
            });
            
            for (let i = inventory.length; i < MAX_INVENTORY; i++) {
                const empty = document.createElement('div');
                empty.className = 'empty-slot';
                empty.textContent = '–ø—É—Å—Ç–æ';
                inventoryGrid.appendChild(empty);
            }
        }

        function sellItem(index) {
            const item = inventory[index];
            const sellPrice = Math.floor(item.basePrice * 0.5 * (item.level || 1));
            balance += sellPrice;
            inventory.splice(index, 1);
            updateBalanceUI();
            updateInventoryUI();
            showNotification(`‚úÖ –ü—Ä–æ–¥–∞–Ω –∑–∞ ${sellPrice}‚≠ê`, 'success');
        }

        // ========== –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –õ–û–ì–ò–ö–ê –°–ê–ú–û–õ–ï–¢–ê ==========
        function startFlight() {
            const bet = parseInt(betInput.value);
            
            if (bet > balance) {
                showNotification('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!', 'error');
                return;
            }
            
            if (bet < 10) {
                showNotification('‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ 10‚≠ê', 'error');
                return;
            }

            // –°–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫—É
            balance -= bet;
            updateBalanceUI();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–ª–µ—Ç
            isFlying = true;
            currentMultiplier = 1.0;
            planePosition = -5;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            flightStatus.textContent = 'üöÄ 1.00x';
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
            if (planeInterval) clearInterval(planeInterval);
            
            planeInterval = setInterval(() => {
                if (!isFlying) return;
                
                // –î–≤–∏–≥–∞–µ–º —Å–∞–º–æ–ª–µ—Ç
                planePosition += 0.08;
                planeGroup.position.x = planePosition;
                planeGlow.style.left = (planePosition * 50 + 100) + 'px';
                
                // –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
                turbine1.material.emissiveIntensity = 0.8 + Math.random() * 0.4;
                turbine2.material.emissiveIntensity = 0.8 + Math.random() * 0.4;
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å
                currentMultiplier += 0.02 + Math.random() * 0.03;
                flightStatus.textContent = `üöÄ ${currentMultiplier.toFixed(2)}x`;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–ª–µ—Ç –∑–∞ —ç–∫—Ä–∞–Ω (–ü–†–û–ò–ì–†–´–®)
                if (planePosition > 8) {
                    // –°–∞–º–æ–ª–µ—Ç —É–ª–µ—Ç–µ–ª - –ø—Ä–æ–∏–≥—Ä—ã—à
                    clearInterval(planeInterval);
                    planeInterval = null;
                    
                    isFlying = false;
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∞–º–æ–ª–µ—Ç
                    planePosition = -5;
                    planeGroup.position.x = -5;
                    planeGlow.style.left = '-50px';
                    
                    flightStatus.textContent = 'üí• –£–õ–ï–¢–ï–õ';
                    showNotification(`üí• –ü—Ä–æ–∏–≥—Ä—ã—à: ${bet}‚≠ê`, 'error');
                    
                    // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Å–≤–µ—á–µ–Ω–∏–µ
                    turbine1.material.emissiveIntensity = 0.8;
                    turbine2.material.emissiveIntensity = 0.8;
                }
                
                // –°–ª—É—á–∞–π–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ (—à–∞–Ω—Å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è)
                const crashChance = 0.003 + (currentMultiplier - 1) * 0.002;
                if (Math.random() < crashChance) {
                    // –°–∞–º–æ–ª–µ—Ç —É–ø–∞–ª - –ø—Ä–æ–∏–≥—Ä—ã—à
                    clearInterval(planeInterval);
                    planeInterval = null;
                    
                    isFlying = false;
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∞–º–æ–ª–µ—Ç
                    planePosition = -5;
                    planeGroup.position.x = -5;
                    planeGlow.style.left = '-50px';
                    
                    flightStatus.textContent = 'üí• –ö–†–£–®–ï–ù–ò–ï';
                    showNotification(`üí• –ü—Ä–æ–∏–≥—Ä—ã—à: ${bet}‚≠ê`, 'error');
                    
                    turbine1.material.emissiveIntensity = 0.8;
                    turbine2.material.emissiveIntensity = 0.8;
                }
            }, 50);
        }

        function stopFlight() {
            if (!isFlying) return;
            
            clearInterval(planeInterval);
            planeInterval = null;
            
            const bet = parseInt(betInput.value);
            const win = Math.floor(bet * currentMultiplier);
            
            balance += win;
            updateBalanceUI();
            
            isFlying = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∞–º–æ–ª–µ—Ç
            planePosition = -5;
            planeGroup.position.x = -5;
            planeGlow.style.left = '-50px';
            
            flightStatus.textContent = '‚úÖ –ü–û–°–ê–î–ö–ê';
            showNotification(`‚ú® –í—ã–∏–≥—Ä—ã—à: ${win}‚≠ê (x${currentMultiplier.toFixed(2)})`, 'success');
            
            turbine1.material.emissiveIntensity = 0.8;
            turbine2.material.emissiveIntensity = 0.8;
        }

        // ========== –ö–ï–ô–°–´ ==========
        function openCase(caseData) {
            if (balance < caseData.price) {
                showNotification(`‚ùå –ù—É–∂–Ω–æ ${caseData.price}‚≠ê`, 'error');
                return;
            }
            
            balance -= caseData.price;
            updateBalanceUI();
            
            // 90% —à–∞–Ω—Å –ø—Ä–æ–∏–≥—Ä—ã—à–∞
            const rand = Math.random() * 100;
            
            if (rand < caseData.loseChance) {
                // –ü—Ä–æ–∏–≥—Ä—ã—à
                showNotification(`üòû –í–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–ø–∞–ª–æ...`, 'error');
                return;
            }
            
            // –í—ã–∏–≥—Ä—ã—à (10%)
            let cumulative = 0;
            const randItem = Math.random() * 100;
            
            for (const item of caseData.items) {
                cumulative += item.chance;
                if (randItem <= cumulative) {
                    // –ù–∞—á–∏—Å–ª—è–µ–º –ø—Ä–µ–¥–º–µ—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                    const gift = TELEGRAM_GIFTS.find(g => g.emoji === item.emoji) || {
                        emoji: item.emoji,
                        name: item.name,
                        basePrice: caseData.price,
                        level: item.level || 1
                    };
                    
                    addToInventory({
                        emoji: item.emoji,
                        name: item.name,
                        basePrice: gift.basePrice || caseData.price,
                        level: item.level || 1
                    });
                    
                    showNotification(`üéâ –ü–û–ë–ï–î–ê! ${item.name}`, 'success');
                    break;
                }
            }
        }

        // ========== –ü–û–ö–£–ü–ö–ê –ü–û–î–ê–†–ö–û–í ==========
        function buyGift(gift) {
            if (balance < gift.basePrice) {
                showNotification(`‚ùå –ù—É–∂–Ω–æ ${gift.basePrice}‚≠ê`, 'error');
                return;
            }
            
            balance -= gift.basePrice;
            updateBalanceUI();
            
            addToInventory({
                emoji: gift.emoji,
                name: gift.name,
                basePrice: gift.basePrice,
                level: gift.level || 1
            });
        }

        // ========== –ê–ü–ì–†–ï–ô–î–´ ==========
        function buyUpgrade(upgradeId) {
            const upgrade = upgrades[upgradeId];
            
            if (balance < upgrade.price) {
                showNotification(`‚ùå –ù—É–∂–Ω–æ ${upgrade.price}‚≠ê`, 'error');
                return;
            }
            
            balance -= upgrade.price;
            upgrade.level++;
            upgrade.value *= 1.2;
            upgrade.price = Math.floor(upgrade.price * 1.5);
            
            updateBalanceUI();
            renderUpgrades();
            showNotification(`‚ö° ${upgradeId} —É–ª—É—á—à–µ–Ω –¥–æ ${upgrade.level} —É—Ä–æ–≤–Ω—è!`, 'success');
        }

        // –†–µ–Ω–¥–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function renderCases() {
            casesContainer.innerHTML = '';
            CASES.forEach(c => {
                const card = document.createElement('div');
                card.className = 'case-card';
                card.innerHTML = `
                    <div class="case-rarity">${c.rarity}</div>
                    <div class="case-icon">${c.icon}</div>
                    <div class="case-name">${c.name}</div>
                    <div class="case-price">${c.price}‚≠ê</div>
                    <div class="case-items-preview">
                        ${c.items.map(item => `<div class="preview-item">${item.emoji}</div>`).join('')}
                    </div>
                    <div class="case-chance">‚ö° –®–∞–Ω—Å –≤—ã–∏–≥—Ä—ã—à–∞: ${100 - c.loseChance}%</div>
                `;
                card.addEventListener('click', () => openCase(c));
                casesContainer.appendChild(card);
            });
        }

        function renderGifts() {
            giftsContainer.innerHTML = '';
            TELEGRAM_GIFTS.forEach(g => {
                const card = document.createElement('div');
                card.className = 'gift-card';
                card.innerHTML = `
                    <div class="gift-emoji">${g.emoji}</div>
                    <div class="gift-name">${g.name}</div>
                    <div class="gift-price">${g.basePrice}‚≠ê</div>
                `;
                card.addEventListener('click', () => buyGift(g));
                giftsContainer.appendChild(card);
            });
        }

        function renderUpgrades() {
            upgradesContainer.innerHTML = '';
            Object.entries(upgrades).forEach(([id, data]) => {
                const names = {
                    luck: 'üçÄ –£–¥–∞—á–∞',
                    multiplier: 'üí∞ –ú–Ω–æ–∂–∏—Ç–µ–ª—å',
                    protection: 'üõ°Ô∏è –ó–∞—â–∏—Ç–∞',
                    giftChance: 'üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞'
                };
                
                const card = document.createElement('div');
                card.className = 'upgrade-card';
                card.innerHTML = `
                    <div class="upgrade-header">
                        <div class="upgrade-icon">${names[id][0]}</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">${names[id]}</div>
                            <div class="upgrade-level">–£—Ä–æ–≤–µ–Ω—å ${data.level}</div>
                        </div>
                    </div>
                    <div class="upgrade-stats">
                        <span>–¢–µ–∫—É—â–∏–π: ${data.value.toFixed(2)}x</span>
                        <span>‚Üí ${(data.value * 1.2).toFixed(2)}x</span>
                    </div>
                    <div class="upgrade-price">${data.price}‚≠ê</div>
                    <button class="upgrade-btn" ${balance < data.price ? 'disabled' : ''}>–£–õ–£–ß–®–ò–¢–¨</button>
                `;
                
                const btn = card.querySelector('.upgrade-btn');
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    buyUpgrade(id);
                });
                
                upgradesContainer.appendChild(card);
            });
        }

        // ========== –ü–ê–†–¢–ò–ö–õ–´ ==========
        function initParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDelay = Math.random() * 20 + 's';
                p.style.animationDuration = (Math.random() * 10 + 15) + 's';
                p.style.background = `rgba(255, 255, 255, ${Math.random() * 0.5 + 0.3})`;
                particles.appendChild(p);
            }
        }

        // ========== –ê–ù–ò–ú–ê–¶–ò–Ø ==========
        function animate() {
            requestAnimationFrame(animate);
            
            // –í—Ä–∞—â–∞–µ–º —Ç—É—Ä–±–∏–Ω—ã
            if (turbine1 && turbine2) {
                turbine1.rotation.y += 0.1;
                turbine2.rotation.y += 0.1;
            }
            
            // –î–≤–∏–≥–∞–µ–º –∑–≤–µ–∑–¥—ã –≤ 3D
            starField.forEach(star => {
                star.position.z += 0.02;
                if (star.position.z > 10) star.position.z = -20;
            });
            
            renderer.render(scene, camera);
            drawStars();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.addEventListener('resize', () => {
            width = window.innerWidth;
            height = window.innerHeight;
            starCanvas.width = width;
            starCanvas.height = height;
            initStars();
            
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        });

        // –ó–∞–ø—É—Å–∫
        width = window.innerWidth;
        height = window.innerHeight;
        starCanvas.width = width;
        starCanvas.height = height;
        initStars();
        initParticles();
        animate();

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
        startBtn.addEventListener('click', startFlight);
        stopBtn.addEventListener('click', stopFlight);
        addBalanceBtn.addEventListener('click', () => {
            balance += 100;
            updateBalanceUI();
            showNotification('+100‚≠ê –ø–æ–ª—É—á–µ–Ω–æ!', 'success');
            renderUpgrades();
        });

        // –†–µ–Ω–¥–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        renderCases();
        renderGifts();
        renderUpgrades();
        updateBalanceUI();
        updateInventoryUI();

        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
        setTimeout(() => {
            addToInventory({ emoji: '‚≠ê', name: '–ó–≤–µ–∑–¥–∞', basePrice: 50, level: 1 });
            addToInventory({ emoji: 'üî•', name: '–û–≥–æ–Ω—å', basePrice: 100, level: 1 });
        }, 1000);
    </script>
</body>
</html>
