<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BoxStarX PRO üöÄ –ö–û–°–ú–ò–ß–ï–°–ö–ò–ï –ö–ï–ô–°–´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            overflow: hidden;
            background: #000;
            color: white;
        }

        /* ========== –ù–ï–í–ï–†–û–Ø–¢–ù–û–ï –ó–í–ï–ó–î–ù–û–ï –ù–ï–ë–û ========== */
        #starCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(ellipse at 30% 40%, #0a0c20 0%, #020308 100%);
            display: block;
            pointer-events: none;
        }

        /* –¢—É–º–∞–Ω–Ω–æ—Å—Ç—å —Å –ø–µ—Ä–µ–ª–∏–≤–∞–º–∏ */
        .nebula {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(180, 120, 255, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 60%, rgba(100, 180, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 120, 200, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 20%, rgba(200, 255, 120, 0.08) 0%, transparent 40%);
            z-index: 1;
            pointer-events: none;
            mix-blend-mode: overlay;
            animation: nebulaPulse 20s infinite alternate ease-in-out;
        }

        @keyframes nebulaPulse {
            0% { opacity: 0.3; filter: hue-rotate(0deg) blur(3px); }
            50% { opacity: 0.6; filter: hue-rotate(20deg) blur(4px); }
            100% { opacity: 0.3; filter: hue-rotate(40deg) blur(3px); }
        }

        /* –ü–∞—Ä—è—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            box-shadow: 0 0 20px currentColor;
            animation: floatParticle 30s infinite linear;
            color: hsl(var(--hue), 90%, 70%);
        }

        @keyframes floatParticle {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(-200px) translateX(150px) rotate(360deg); opacity: 0; }
        }

        /* ========== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ========== */
        #app {
            position: relative;
            z-index: 10;
            width: 100vw;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        .content {
            min-height: 100vh;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
            padding-bottom: 100px;
        }

        /* ========== –ü–†–ï–ú–ò–£–ú –•–ï–î–ï–† ========== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(10, 15, 30, 0.6);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 40px;
            padding: 15px 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .balance {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.4rem;
            font-weight: bold;
        }

        .balance span {
            color: gold;
            text-shadow: 0 0 20px gold;
        }

        .add-btn {
            background: #2e7d32;
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            border: 1px solid #81c784;
        }

        /* ========== –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –°–ê–ú–û–õ–ï–¢ ========== */
        .plane-container {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 40px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid gold;
            position: relative;
            overflow: hidden;
        }

        .plane-scene {
            position: relative;
            height: 120px;
            background: linear-gradient(180deg, #0a1020 0%, #040810 100%);
            border-radius: 30px;
            border: 1px solid gold;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .runway {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: linear-gradient(90deg, #333, #555, #333);
            border-top: 2px solid gold;
        }

        .runway::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background: repeating-linear-gradient(90deg, gold 0px, gold 20px, transparent 20px, transparent 40px);
            transform: translateY(-50%);
        }

        .animated-plane {
            position: absolute;
            left: -80px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3.5rem;
            filter: drop-shadow(0 0 20px gold) drop-shadow(0 0 40px orange);
            transition: left 0.03s linear;
            z-index: 5;
        }

        .plane-trail {
            position: absolute;
            height: 4px;
            background: linear-gradient(90deg, gold, transparent);
            top: 50%;
            transform: translateY(-50%);
            right: 0;
            border-radius: 2px;
            opacity: 0.7;
            filter: blur(2px);
        }

        .crash-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 10;
            text-shadow: 0 0 30px red;
        }

        .plane-controls {
            display: flex;
            gap: 10px;
        }

        .plane-controls input {
            flex: 1;
            background: #0f1625;
            border: 1px solid gold;
            color: gold;
            padding: 15px;
            border-radius: 30px;
            font-size: 1.1rem;
            text-align: center;
        }

        .plane-controls button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
        }

        #startFlight {
            background: linear-gradient(135deg, #f9d423, #fdaa33);
        }

        #stopFlight {
            background: linear-gradient(135deg, #dc3545, #b02a37);
            color: white;
        }

        #stopFlight:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .multiplier-display {
            text-align: center;
            margin-top: 15px;
            font-size: 1.3rem;
        }

        .multiplier-value {
            color: gold;
            font-size: 2rem;
            font-weight: bold;
            margin-left: 10px;
        }

        /* ========== –ú–ï–ù–Æ –ö–ï–ô–°–û–í (–ö–ê–ö –ù–ê –°–ö–†–ò–ù–ï) ========== */
        .cases-menu {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid gold;
            padding-bottom: 10px;
        }

        .cases-tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            background: rgba(255,215,0,0.1);
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s;
            border: 1px solid transparent;
        }

        .cases-tab.active {
            background: rgba(255,215,0,0.3);
            border-color: gold;
            box-shadow: 0 0 20px gold;
        }

        /* ========== –°–ï–¢–ö–ê –ö–ï–ô–°–û–í ========== */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .case-item {
            background: linear-gradient(145deg, #1e2842, #0e162a);
            border-radius: 25px;
            padding: 20px 10px;
            text-align: center;
            border: 2px solid gold;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
        }

        .case-item::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,215,0,0.1), transparent);
            transform: translateX(-100%) rotate(45deg);
            transition: transform 0.6s;
        }

        .case-item:hover::before {
            transform: translateX(100%) rotate(45deg);
        }

        .case-item:active {
            transform: scale(0.95);
        }

        .case-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .case-name {
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .case-price {
            color: gold;
            font-weight: bold;
            font-size: 1.1rem;
        }

        /* ========== –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–û–ï –ú–ï–ù–Æ –ö–ï–ô–°–ê ========== */
        .case-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            display: none;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
        }

        .case-modal.active {
            display: flex;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-size: 2rem;
            color: gold;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,0,0,0.3);
        }

        .modal-case-icon {
            font-size: 6rem;
            text-align: center;
            margin: 20px 0;
            filter: drop-shadow(0 0 30px gold);
        }

        .modal-price {
            text-align: center;
            font-size: 2rem;
            color: gold;
            margin-bottom: 30px;
        }

        .prizes-title {
            color: gold;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .prizes-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .prize-item {
            background: #1e2638;
            border-radius: 20px;
            padding: 15px 5px;
            text-align: center;
            border: 1px solid gold;
        }

        .prize-emoji {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .prize-name {
            font-size: 0.8rem;
            color: gold;
        }

        .spin-btn {
            background: linear-gradient(135deg, #f9d423, #fdaa33);
            border: none;
            padding: 20px;
            border-radius: 60px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            margin: 20px 0;
            border: 2px solid gold;
        }

        .double-tap {
            text-align: center;
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .demo-btn {
            background: #1e2638;
            border: 1px solid gold;
            color: white;
            padding: 15px;
            border-radius: 30px;
            width: 100%;
            font-size: 1.2rem;
            cursor: pointer;
        }

        /* ========== –ü–û–î–ê–†–ö–ò ========== */
        .gifts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .gift-card {
            background: #1e2638;
            border-radius: 20px;
            padding: 15px 5px;
            text-align: center;
            border: 1px solid gold;
            cursor: pointer;
        }

        /* ========== –ò–ù–í–ï–ù–¢–ê–†–¨ ========== */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            background: #1a2133;
            border-radius: 30px;
            padding: 20px;
            border: 1px solid gold;
        }

        .inventory-slot {
            background: #0f1625;
            border: 1px solid gold;
            border-radius: 15px;
            padding: 10px;
            text-align: center;
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .empty-slot {
            background: #0f1625;
            border: 1px dashed #555;
            border-radius: 15px;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #2e7d32, #1b5e20);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            font-weight: bold;
            z-index: 2000;
            border: 1px solid gold;
            animation: slideDown 0.3s;
        }

        .notification.error {
            background: linear-gradient(135deg, #b71c1c, #8b0000);
        }

        @keyframes slideDown {
            from { top: -50px; opacity: 0; }
            to { top: 20px; opacity: 1; }
        }
    </style>
</head>
<body>
    <canvas id="starCanvas"></canvas>
    <div class="nebula"></div>
    <div class="particles" id="particles"></div>

    <div id="app">
        <div class="content">
            <!-- –•–µ–¥–µ—Ä -->
            <div class="header">
                <div class="balance">
                    ‚≠ê <span id="balance">1549</span>
                </div>
                <button class="add-btn" id="addBalance">+100</button>
            </div>

            <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∞–º–æ–ª–µ—Ç -->
            <div class="plane-container">
                <div class="plane-scene" id="planeScene">
                    <div class="runway"></div>
                    <div class="animated-plane" id="animatedPlane">‚úàÔ∏è</div>
                    <div class="plane-trail" id="planeTrail" style="width: 0px;"></div>
                    <div class="crash-effect" id="crashEffect">üí•</div>
                </div>
                
                <div class="plane-controls">
                    <input type="number" id="betAmount" min="10" value="149" step="10">
                    <button id="startFlight">üöÄ –ö–†–£–¢–ò–¢–¨</button>
                    <button id="stopFlight" disabled>‚èπÔ∏è –°–¢–û–ü</button>
                </div>
                
                <div class="multiplier-display">
                    <span>–ú–ù–û–ñ–ò–¢–ï–õ–¨:</span>
                    <span class="multiplier-value" id="multiplier">1.00x</span>
                </div>
            </div>

            <!-- –ú–µ–Ω—é –∫–µ–π—Å–æ–≤ (–∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ) -->
            <div class="cases-menu">
                <div class="cases-tab active" data-tab="–æ–±—ã—á–Ω—ã–µ">–û–ë–´–ß–ù–´–ï</div>
                <div class="cases-tab" data-tab="—Ä–µ–¥–∫–∏–µ">–†–ï–î–ö–ò–ï</div>
                <div class="cases-tab" data-tab="—ç–ø–∏—á–µ—Å–∫–∏–µ">–≠–ü–ò–ß–ï–°–ö–ò–ï</div>
            </div>

            <!-- –°–µ—Ç–∫–∞ –∫–µ–π—Å–æ–≤ -->
            <div class="cases-grid" id="casesGrid"></div>

            <!-- –ü–æ–¥–∞—Ä–∫–∏ -->
            <div class="gifts-grid" id="giftsGrid"></div>

            <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
            <div class="inventory-grid" id="inventoryGrid"></div>
        </div>
    </div>

    <!-- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –º–µ–Ω—é –∫–µ–π—Å–∞ -->
    <div class="case-modal" id="caseModal">
        <div class="modal-header">
            <div class="modal-title" id="modalTitle">–û–ë–´–ß–ù–´–ô –ö–ï–ô–°</div>
            <button class="close-modal" id="closeModal">‚úï</button>
        </div>
        
        <div class="modal-case-icon" id="modalIcon">üì¶</div>
        <div class="modal-price" id="modalPrice">‚òÖ 149</div>
        
        <div class="prizes-title">–ü–†–ò–ó–´</div>
        <div class="prizes-grid" id="prizesGrid"></div>
        
        <button class="spin-btn" id="spinBtn">–ö–†–£–¢–ò–¢–¨ –ó–ê ‚òÖ 149</button>
        <div class="double-tap">üëÜ –î–í–û–ô–ù–û–ô –¢–ê–ü –î–õ–Ø –ë–´–°–¢–†–û–ì–û –ü–†–û–ö–†–£–¢–ê</div>
        
        <button class="demo-btn" id="demoBtn">üéÆ –î–ï–ú–û</button>
    </div>

    <script>
        // ========== –ù–ï–í–ï–†–û–Ø–¢–ù–û–ï –ó–í–ï–ó–î–ù–û–ï –ù–ï–ë–û ==========
        const canvas = document.getElementById('starCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let stars = [];
        let shootingStars = [];
        
        const STAR_COUNT = 800;
        const SHOOTING_STAR_COUNT = 15;

        function initStars() {
            stars = [];
            for (let i = 0; i < STAR_COUNT; i++) {
                stars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    radius: Math.random() * 3 + 1,
                    speed: Math.random() * 0.1 + 0.05,
                    brightness: Math.random() * 0.5 + 0.2,
                    flickerSpeed: Math.random() * 0.01 + 0.005,
                    hue: Math.random() * 360
                });
            }

            shootingStars = [];
            for (let i = 0; i < SHOOTING_STAR_COUNT; i++) {
                shootingStars.push({
                    x: Math.random() * width,
                    y: Math.random() * height * 0.3,
                    length: Math.random() * 200 + 100,
                    speed: Math.random() * 12 + 8,
                    angle: Math.random() * 0.4 + 0.3,
                    hue: Math.random() * 360
                });
            }
        }

        function resizeCanvas() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            initStars();
        }

        function drawStars() {
            ctx.clearRect(0, 0, width, height);
            
            // –ì–ª—É–±–æ–∫–∏–π –∫–æ—Å–º–æ—Å
            const gradient = ctx.createRadialGradient(width/2, height/2, 0, width/2, height/2, width);
            gradient.addColorStop(0, '#05071a');
            gradient.addColorStop(0.5, '#02030a');
            gradient.addColorStop(1, '#000000');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            
            // –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–ª–∏–≤–∞—é—â–∏–µ—Å—è –∑–≤–µ–∑–¥—ã
            stars.forEach(star => {
                star.y += star.speed * 0.05;
                if (star.y > height) {
                    star.y = 0;
                    star.x = Math.random() * width;
                }
                
                star.brightness += star.flickerSpeed;
                if (star.brightness > 1 || star.brightness < 0.3) star.flickerSpeed *= -1;
                
                star.hue = (star.hue + 0.1) % 360;
                
                ctx.globalAlpha = star.brightness * 0.7;
                ctx.fillStyle = `hsl(${star.hue}, 80%, 70%)`;
                ctx.shadowColor = `hsl(${star.hue}, 80%, 70%)`;
                ctx.shadowBlur = 10;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fill();
            });

            // –ß–∞—Å—Ç—ã–µ –ø–∞–¥–∞—é—â–∏–µ –∑–≤–µ–∑–¥—ã
            ctx.shadowBlur = 30;
            shootingStars.forEach(star => {
                star.x += star.speed * Math.cos(star.angle);
                star.y += star.speed * Math.sin(star.angle);
                
                if (star.y > height || star.x > width) {
                    star.x = Math.random() * width * 0.3;
                    star.y = Math.random() * height * 0.2;
                }
                
                star.hue = (star.hue + 2) % 360;
                
                // –•–≤–æ—Å—Ç
                const gradient = ctx.createLinearGradient(
                    star.x, star.y,
                    star.x - star.length * Math.cos(star.angle),
                    star.y - star.length * Math.sin(star.angle)
                );
                gradient.addColorStop(0, `hsla(${star.hue}, 100%, 80%, 1)`);
                gradient.addColorStop(0.5, `hsla(${star.hue}, 100%, 60%, 0.5)`);
                gradient.addColorStop(1, 'transparent');
                
                ctx.beginPath();
                ctx.moveTo(star.x, star.y);
                ctx.lineTo(
                    star.x - star.length * Math.cos(star.angle),
                    star.y - star.length * Math.sin(star.angle)
                );
                ctx.strokeStyle = gradient;
                ctx.lineWidth = 4;
                ctx.stroke();
                
                // –ì–æ–ª–æ–≤–∞
                ctx.beginPath();
                ctx.arc(star.x, star.y, 5, 0, Math.PI * 2);
                ctx.fillStyle = `hsl(${star.hue}, 100%, 90%)`;
                ctx.shadowColor = `hsl(${star.hue}, 100%, 70%)`;
                ctx.fill();
            });
            
            ctx.shadowBlur = 0;
            requestAnimationFrame(drawStars);
        }

        // ========== –î–ê–ù–ù–´–ï ==========
        const TELEGRAM_GIFTS = [
            { emoji: "üéÇ", name: "–¢–û–†–¢", price: 15 },
            { emoji: "‚ù§Ô∏è", name: "–°–ï–†–î–¶–ï", price: 25 },
            { emoji: "üî•", name: "–û–ì–û–ù–¨", price: 50 },
            { emoji: "üéÅ", name: "–ü–û–î–ê–†–û–ö", price: 50 },
            { emoji: "üéâ", name: "–ü–†–ê–ó–î–ù–ò–ö", price: 100 },
            { emoji: "üíé", name: "–ê–õ–ú–ê–ó", price: 100 },
            { emoji: "üëë", name: "–ö–û–†–û–ù–ê", price: 150 },
            { emoji: "üöÄ", name: "–†–ê–ö–ï–¢–ê", price: 150 },
            { emoji: "‚≠ê", name: "–ó–í–ï–ó–î–ê", price: 250 },
            { emoji: "üåü", name: "–°–£–ü–ï–†–ó–í–ï–ó–î–ê", price: 300 },
            { emoji: "üí´", name: "–ö–û–ú–ï–¢–ê", price: 500 },
            { emoji: "‚ö°", name: "–ú–û–õ–ù–ò–Ø", price: 500 },
            { emoji: "üéà", name: "–®–ê–†", price: 750 },
            { emoji: "üéä", name: "–ö–û–ù–§–ï–¢–¢–ò", price: 1000 },
            { emoji: "‚ú®", name: "–ë–õ–ï–°–¢–ö–ò", price: 1500 },
            { emoji: "ü¶Ñ", name: "–ï–î–ò–ù–û–†–û–ì", price: 2500 }
        ];

        const CASES = {
            –æ–±—ã—á–Ω—ã–µ: [
                { name: "PLAYER", icon: "üéÆ", price: 149, gifts: [0,1,2,3] },
                { name: "BEAR", icon: "üêª", price: 199, gifts: [1,2,3,4] },
                { name: "LAMP", icon: "üí°", price: 249, gifts: [2,3,4,5] },
                { name: "SKULL", icon: "üíÄ", price: 499, gifts: [3,4,5,6] },
                { name: "NEKO", icon: "üê±", price: 999, gifts: [4,5,6,7] },
                { name: "BRICK", icon: "üß±", price: 1499, gifts: [5,6,7,8] }
            ],
            —Ä–µ–¥–∫–∏–µ: [
                { name: "DRAGON", icon: "üêâ", price: 1999, gifts: [6,7,8,9] },
                { name: "PHOENIX", icon: "üî•", price: 2999, gifts: [7,8,9,10] }
            ],
            —ç–ø–∏—á–µ—Å–∫–∏–µ: [
                { name: "GOD", icon: "üëº", price: 4999, gifts: [8,9,10,11] },
                { name: "DEMON", icon: "üëø", price: 9999, gifts: [9,10,11,12] }
            ]
        };

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let balance = 1549;
        let inventory = [];
        let currentCase = null;
        let isFlying = false;
        let multiplier = 1;
        let planeInterval = null;
        let planePosition = -80;

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const balanceEl = document.getElementById('balance');
        const addBtn = document.getElementById('addBalance');
        const startBtn = document.getElementById('startFlight');
        const stopBtn = document.getElementById('stopFlight');
        const multiplierEl = document.getElementById('multiplier');
        const animatedPlane = document.getElementById('animatedPlane');
        const planeTrail = document.getElementById('planeTrail');
        const crashEffect = document.getElementById('crashEffect');
        const casesGrid = document.getElementById('casesGrid');
        const giftsGrid = document.getElementById('giftsGrid');
        const inventoryGrid = document.getElementById('inventoryGrid');
        const caseModal = document.getElementById('caseModal');
        const closeModal = document.getElementById('closeModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalIcon = document.getElementById('modalIcon');
        const modalPrice = document.getElementById('modalPrice');
        const prizesGrid = document.getElementById('prizesGrid');
        const spinBtn = document.getElementById('spinBtn');
        const demoBtn = document.getElementById('demoBtn');

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        function saveGame() {
            localStorage.setItem('bsx_balance', balance);
            localStorage.setItem('bsx_inventory', JSON.stringify(inventory));
        }

        function loadGame() {
            const savedBalance = localStorage.getItem('bsx_balance');
            const savedInventory = localStorage.getItem('bsx_inventory');
            if (savedBalance) balance = parseInt(savedBalance);
            if (savedInventory) inventory = JSON.parse(savedInventory);
            updateBalance();
            updateInventory();
        }

        function showNotification(msg, isSuccess = true) {
            const notif = document.createElement('div');
            notif.className = `notification ${!isSuccess ? 'error' : ''}`;
            notif.textContent = msg;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 2000);
        }

        function updateBalance() {
            balanceEl.textContent = balance;
            saveGame();
        }

        function updateInventory() {
            inventoryGrid.innerHTML = '';
            inventory.slice(0, 8).forEach((item, i) => {
                const slot = document.createElement('div');
                slot.className = 'inventory-slot';
                slot.innerHTML = `
                    <div style="font-size: 1.8rem;">${item.emoji}</div>
                    <div style="font-size: 0.6rem;">${item.name}</div>
                    <div style="font-size: 0.6rem;">${item.price}‚≠ê</div>
                `;
                slot.onclick = () => sellItem(i);
                inventoryGrid.appendChild(slot);
            });
            for (let i = inventory.length; i < 8; i++) {
                const empty = document.createElement('div');
                empty.className = 'empty-slot';
                empty.textContent = '–ø—É—Å—Ç–æ';
                inventoryGrid.appendChild(empty);
            }
        }

        function sellItem(index) {
            const item = inventory[index];
            const sellPrice = Math.floor(item.price * 0.8);
            balance += sellPrice;
            inventory.splice(index, 1);
            updateBalance();
            updateInventory();
            showNotification(`‚úÖ –ü—Ä–æ–¥–∞–Ω –∑–∞ ${sellPrice}‚≠ê`);
        }

        // –°–∞–º–æ–ª–µ—Ç
        function startFlight() {
            const bet = parseInt(document.getElementById('betAmount').value);
            
            if (bet > balance) {
                showNotification('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!', false);
                return;
            }
            
            balance -= bet;
            updateBalance();
            
            isFlying = true;
            multiplier = 1;
            planePosition = -80;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            crashEffect.style.opacity = '0';
            
            if (planeInterval) clearInterval(planeInterval);
            
            planeInterval = setInterval(() => {
                if (!isFlying) return;
                
                planePosition += 2;
                animatedPlane.style.left = planePosition + 'px';
                planeTrail.style.width = (planePosition + 100) + 'px';
                planeTrail.style.right = 'auto';
                planeTrail.style.left = '0';
                
                multiplier += 0.02 + Math.random() * 0.03;
                multiplierEl.textContent = multiplier.toFixed(2) + 'x';
                
                // –®–∞–Ω—Å –ø–∞–¥–µ–Ω–∏—è
                if (Math.random() < 0.01 + (multiplier - 1) * 0.005) {
                    crashPlane(bet);
                }
                
                // –£–ª–µ—Ç–µ–ª
                if (planePosition > 400) {
                    crashPlane(bet);
                }
            }, 50);
        }

        function crashPlane(bet) {
            clearInterval(planeInterval);
            planeInterval = null;
            
            isFlying = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            
            crashEffect.style.opacity = '1';
            multiplierEl.textContent = 'üí• –ü–ê–î–ï–ù–ò–ï';
            
            setTimeout(() => {
                planePosition = -80;
                animatedPlane.style.left = '-80px';
                planeTrail.style.width = '0px';
                crashEffect.style.opacity = '0';
                multiplierEl.textContent = '1.00x';
            }, 1000);
            
            showNotification(`üí• –ü—Ä–æ–∏–≥—Ä—ã—à: ${bet}‚≠ê`, false);
        }

        function stopFlight() {
            if (!isFlying) return;
            
            clearInterval(planeInterval);
            planeInterval = null;
            
            const bet = parseInt(document.getElementById('betAmount').value);
            const win = Math.floor(bet * multiplier);
            
            balance += win;
            updateBalance();
            
            isFlying = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            
            planePosition = -80;
            animatedPlane.style.left = '-80px';
            planeTrail.style.width = '0px';
            multiplierEl.textContent = '1.00x';
            
            showNotification(`‚ú® –í—ã–∏–≥—Ä—ã—à: ${win}‚≠ê (x${multiplier.toFixed(2)})`);
        }

        // –ö–µ–π—Å—ã
        function openCaseModal(caseData) {
            currentCase = caseData;
            modalTitle.textContent = caseData.name;
            modalIcon.textContent = caseData.icon;
            modalPrice.textContent = `‚òÖ ${caseData.price}`;
            spinBtn.textContent = `–ö–†–£–¢–ò–¢–¨ –ó–ê ‚òÖ ${caseData.price}`;
            
            prizesGrid.innerHTML = '';
            caseData.gifts.forEach(index => {
                const gift = TELEGRAM_GIFTS[index];
                const prize = document.createElement('div');
                prize.className = 'prize-item';
                prize.innerHTML = `
                    <div class="prize-emoji">${gift.emoji}</div>
                    <div class="prize-name">${gift.name}</div>
                    <div>${gift.price}‚≠ê</div>
                `;
                prizesGrid.appendChild(prize);
            });
            
            caseModal.classList.add('active');
        }

        function spinCase
