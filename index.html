<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoxStarX üöÄ –ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –ö–µ–π—Å—ã</title>
    <style>
        /* ========== –°–ë–†–û–° –ò –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            color: #fff;
            min-height: 100vh;
            background: #0a0c0f;
        }

        /* ========== –ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –§–û–ù (CANVAS) ========== */
        #starCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(ellipse at 30% 40%, #1b2b4a 0%, #0a0c1a 70%, #030408 100%);
            display: block;
            pointer-events: none;
        }

        /* ========== –ü–†–ò–í–ï–¢–°–¢–í–ï–ù–ù–ê–Ø –ù–ê–î–ü–ò–°–¨ –° –ê–ù–ò–ú–ê–¶–ò–ï–ô ========== */
        .splash-title {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(2.5rem, 15vw, 5rem);
            font-weight: 900;
            text-align: center;
            z-index: 1000;
            color: transparent;
            background: linear-gradient(135deg, #fff8e0, #ffd966, #f9cb3b);
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 60px rgba(255, 100, 0, 0.3);
            letter-spacing: 8px;
            animation: fadeZoomOut 2.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            white-space: nowrap;
            pointer-events: none;
        }

        @keyframes fadeZoomOut {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); filter: blur(0); }
            40% { opacity: 1; transform: translate(-50%, -50%) scale(1); filter: blur(0); }
            80% { opacity: 0.3; transform: translate(-50%, -50%) scale(0.8); filter: blur(4px); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); filter: blur(10px); visibility: hidden; }
        }

        /* ========== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ========== */
        .content {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            padding-bottom: 30px;
            backdrop-filter: blur(2px);
        }

        /* ========== HUD - –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø ========== */
        .hud {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: rgba(10, 15, 25, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 215, 0, 0.25);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.7);
            flex-wrap: wrap;
            gap: 12px;
        }

        .balance {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(145deg, #1e2533, #131824);
            padding: 10px 24px;
            border-radius: 60px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.5), 0 8px 15px rgba(0,0,0,0.5);
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .balance span {
            color: #ffd966;
            text-shadow: 0 0 15px gold;
            margin-left: 5px;
        }

        .balance::before {
            content: "‚≠ê";
            font-size: 1.4rem;
            filter: drop-shadow(0 0 8px gold);
        }

        .bet-menu {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
            background: rgba(20, 25, 38, 0.6);
            padding: 8px 16px;
            border-radius: 50px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,215,0,0.2);
        }

        .bet-menu label {
            font-size: 0.9rem;
            color: #aaa;
        }

        .bet-menu input {
            width: 90px;
            padding: 10px 14px;
            background: rgba(0,0,0,0.5);
            border: 1px solid #ffd966;
            color: #ffd966;
            border-radius: 40px;
            font-weight: bold;
            font-size: 1rem;
            text-align: center;
            outline: none;
            transition: all 0.2s;
        }

        .bet-menu input:focus {
            border-color: #fff;
            box-shadow: 0 0 20px gold;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 28px;
            border: none;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.6);
            text-transform: uppercase;
            border: 1px solid rgba(255,255,255,0.15);
        }

        .btn-primary {
            background: linear-gradient(135deg, #f0b429, #f5d742);
            color: #1a1e2b;
            text-shadow: 0 1px 2px rgba(255,255,255,0.5);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            filter: brightness(1.1);
            box-shadow: 0 15px 25px rgba(240, 180, 40, 0.4);
        }

        .btn-stop {
            background: linear-gradient(135deg, #a13d3d, #7a2e2e);
            color: white;
            border-color: #ff8a8a;
        }

        .btn-stop:hover:not(:disabled) {
            transform: translateY(-3px);
            filter: brightness(1.2);
            box-shadow: 0 15px 25px rgba(190, 60, 60, 0.5);
        }

        .btn-stop:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-add {
            background: linear-gradient(135deg, #2e5f3e, #3f8855);
            color: white;
            padding: 12px 20px;
            border-color: #8bc34a;
        }

        .btn-add:hover {
            transform: translateY(-3px);
            filter: brightness(1.1);
            box-shadow: 0 10px 20px rgba(60, 150, 80, 0.4);
        }

        /* ========== –°–ê–ú–û–õ–ï–¢ –ò –¢–ê–ô–ú–ï–† ========== */
        .airfield {
            position: relative;
            width: 100%;
            height: 240px;
            margin-top: 30px;
            overflow: hidden;
            border-bottom: 2px solid rgba(255,215,0,0.3);
            border-top: 2px solid rgba(255,215,0,0.2);
            background: radial-gradient(circle at 50% 30%, #1e2a3a, #0b0f17);
            box-shadow: inset 0 -30px 30px -10px rgba(0,0,0,0.8);
        }

        .plane {
            position: absolute;
            left: -80px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 4.5rem;
            transition: left 0.05s linear;
            filter: drop-shadow(0 0 20px gold) drop-shadow(0 0 40px #ffaa33);
            z-index: 20;
            text-shadow: 2px 2px 0 #000;
        }

        .timer {
            text-align: center;
            margin: 20px auto 10px;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(145deg, #1a1f2e, #0f1320);
            padding: 12px 25px;
            border-radius: 60px;
            width: fit-content;
            border: 1px solid #ffd966;
            box-shadow: 0 0 30px rgba(255,215,0,0.3);
            letter-spacing: 2px;
        }

        /* ========== –ö–ï–ô–°–´ –í –°–¢–ò–õ–ï ROCKET CASE ========== */
        .cases-title {
            text-align: center;
            margin: 40px 0 20px;
            font-size: 2rem;
            font-weight: 800;
            text-transform: uppercase;
            background: linear-gradient(135deg, #fff, #ffd966);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 4px;
        }

        .cases {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 30px;
            margin: 30px 20px;
            flex-wrap: wrap;
            perspective: 1000px;
        }

        .case {
            width: 180px;
            background: linear-gradient(145deg, #20273a, #0f1524);
            border-radius: 30px 30px 20px 20px;
            padding: 25px 15px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid rgba(255, 215, 0, 0.4);
            box-shadow: 0 20px 30px -10px black, inset 0 -2px 10px rgba(255,215,0,0.1);
            position: relative;
            backdrop-filter: blur(5px);
            transform-style: preserve-3d;
        }

        .case:hover {
            transform: translateY(-15px) rotateX(5deg);
            border-color: gold;
            box-shadow: 0 35px 40px -10px black, 0 0 40px gold;
        }

        /* –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–µ–π—Å–æ–≤ */
        .case[data-case="50"] { height: 200px; }
        .case[data-case="100"] { height: 230px; width: 200px; }
        .case[data-case="500"] { height: 260px; width: 220px; background: linear-gradient(145deg, #2a3150, #151d38); }

        .case-icon {
            font-size: 4.5rem;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 15px gold);
            transition: transform 0.3s;
        }

        .case:hover .case-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .case-price {
            font-size: 1.6rem;
            font-weight: 900;
            background: linear-gradient(135deg, gold, #ffb347);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 10px 0 5px;
            text-shadow: 0 0 15px rgba(255,215,0,0.5);
        }

        .case-name {
            color: #ccc;
            font-size: 0.9rem;
            letter-spacing: 1px;
            background: rgba(0,0,0,0.4);
            padding: 5px 10px;
            border-radius: 30px;
            display: inline-block;
        }

        .case-shine {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.2), transparent 70%);
            border-radius: inherit;
            pointer-events: none;
        }

        .case.opening {
            animation: caseOpen 1.2s ease forwards;
        }

        @keyframes caseOpen {
            0% { transform: rotateY(0deg) scale(1); }
            25% { transform: rotateY(15deg) scale(1.05); box-shadow: 0 0 50px gold; }
            50% { transform: rotateY(-15deg) scale(1.1); box-shadow: 0 0 80px white; }
            75% { transform: rotateY(10deg) scale(1.05); }
            100% { transform: rotateY(360deg) scale(1); border-color: #fff; }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞ (x2, x5) */
        .multiplier-badge {
            position: absolute;
            top: -15px;
            right: -15px;
            background: linear-gradient(135deg, #f0f, #a0f);
            padding: 10px 15px;
            border-radius: 40px;
            font-weight: bold;
            color: white;
            box-shadow: 0 0 30px #f0f;
            animation: pulseGlow 1.5s infinite;
        }

        @keyframes pulseGlow {
            0% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); box-shadow: 0 0 50px #f0f; }
            100% { opacity: 0.8; transform: scale(1); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 600px) {
            .hud {
                flex-direction: column;
                align-items: stretch;
            }
            .bet-menu {
                justify-content: center;
            }
            .case {
                width: 150px;
            }
            .case[data-case="100"] { width: 170px; }
            .case[data-case="500"] { width: 190px; }
        }
    </style>
</head>
<body>
    <!-- –ö–∞–Ω–≤–∞—Å –¥–ª—è –∑–≤–µ–∑–¥ (–∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω) -->
    <canvas id="starCanvas"></canvas>

    <!-- –ö—Ä–∞—Å–∏–≤–∞—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å (–∏—Å—á–µ–∑–∞–µ—Ç) -->
    <div class="splash-title">BOXSTARX üöÄ</div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="content">
        <!-- HUD –ø–∞–Ω–µ–ª—å -->
        <div class="hud">
            <div class="balance">
                <span id="balance">1000</span>
            </div>
            
            <div class="bet-menu">
                <label>üí∞ –°—Ç–∞–≤–∫–∞:</label>
                <input type="number" id="betAmount" min="10" value="10" step="10">
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" id="startFlight">üöÄ –°–¢–ê–†–¢</button>
                <button class="btn btn-stop" id="stopFlight" disabled>‚èπÔ∏è –°–¢–û–ü</button>
                <button class="btn btn-add" id="addBalance">‚ûï +100</button>
            </div>
        </div>

        <!-- –ê—ç—Ä–æ–ø–æ—Ä—Ç (—Å–∞–º–æ–ª–µ—Ç) -->
        <div class="airfield">
            <div id="plane" class="plane">‚úàÔ∏è</div>
        </div>

        <!-- –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞ -->
        <div class="timer" id="takeoffTimer">üöÄ –í–∑–ª—ë—Ç —á–µ—Ä–µ–∑: 10</div>

        <!-- –ö–µ–π—Å—ã –≤ —Å—Ç–∏–ª–µ Rocket Case -->
        <h2 class="cases-title">‚ö° –ö–û–°–ú–ò–ß–ï–°–ö–ò–ï –ö–ï–ô–°–´ ‚ö°</h2>
        <div class="cases">
            <div class="case" data-case="50">
                <div class="case-icon">üì¶</div>
                <div class="case-price">50‚≠ê</div>
                <div class="case-name">–°–¢–ê–†–¢–û–í–´–ô</div>
                <div class="case-shine"></div>
                <div class="multiplier-badge" style="display: none;">x2</div>
            </div>
            <div class="case" data-case="100">
                <div class="case-icon">üéÅ</div>
                <div class="case-price">100‚≠ê</div>
                <div class="case-name">–ü–†–û–î–í–ò–ù–£–¢–´–ô</div>
                <div class="case-shine"></div>
                <div class="multiplier-badge" style="display: none;">x3</div>
            </div>
            <div class="case" data-case="500">
                <div class="case-icon">üíé</div>
                <div class="case-price">500‚≠ê</div>
                <div class="case-name">–õ–ï–ì–ï–ù–î–ê–†–ù–´–ô</div>
                <div class="case-shine"></div>
                <div class="multiplier-badge" style="display: none;">x5</div>
            </div>
        </div>
    </div>

    <script>
        // ==================== 1. –ó–í–ï–ó–î–ù–´–ô –§–û–ù (CANVAS) ====================
        (function initStarCanvas() {
            const canvas = document.getElementById('starCanvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let stars = [];
            let comets = [];
            const STAR_COUNT = 350;
            const COMET_COUNT = 4;

            function initStars() {
                stars = [];
                for (let i = 0; i < STAR_COUNT; i++) {
                    stars.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        radius: Math.random() * 2.2 + 0.5,
                        speed: Math.random() * 0.6 + 0.15,
                        brightness: Math.random() * 0.5 + 0.3,
                        flickerSpeed: Math.random() * 0.03 + 0.005
                    });
                }
            }

            function initComets() {
                comets = [];
                for (let i = 0; i < COMET_COUNT; i++) {
                    comets.push({
                        x: Math.random() * width * 0.2,
                        y: Math.random() * height * 0.2,
                        length: Math.random() * 120 + 70,
                        speed: Math.random() * 5 + 4,
                        angle: Math.random() * 0.3 + 0.3,
                        tail: []
                    });
                }
            }

            function resizeCanvas() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                initStars();
                initComets();
            }

            function drawStars() {
                ctx.clearRect(0, 0, width, height);
                
                // –û–±—ã—á–Ω—ã–µ –∑–≤–µ–∑–¥—ã
                stars.forEach(star => {
                    star.y += star.speed * 0.2;
                    if (star.y > height) {
                        star.y = 0;
                        star.x = Math.random() * width;
                    }
                    
                    star.brightness += star.flickerSpeed;
                    if (star.brightness > 1 || star.brightness < 0.3) star.flickerSpeed *= -1;
                    
                    ctx.globalAlpha = star.brightness;
                    ctx.fillStyle = `hsl(${Math.random() * 60 + 30}, 80%, 80%)`;
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    ctx.fill();
                });
                
                // –ü–∞–¥–∞—é—â–∏–µ –∑–≤–µ–∑–¥—ã (–∫–æ–º–µ—Ç—ã)
                ctx.globalAlpha = 1;
                ctx.lineWidth = 2.5;
                comets.forEach(comet => {
                    comet.x += comet.speed * Math.cos(comet.angle);
                    comet.y += comet.speed * Math.sin(comet.angle);
                    
                    if (comet.y > height || comet.x > width) {
                        comet.x = Math.random() * width * 0.3;
                        comet.y = Math.random() * height * 0.2;
                    }
                    
                    // –•–≤–æ—Å—Ç –∫–æ–º–µ—Ç—ã
                    ctx.beginPath();
                    ctx.moveTo(comet.x, comet.y);
                    ctx.lineTo(comet.x - comet.length * Math.cos(comet.angle), 
                               comet.y - comet.length * Math.sin(comet.angle));
                    const gradient = ctx.createLinearGradient(comet.x, comet.y, comet.x - comet.length, comet.y - comet.length);
                    gradient.addColorStop(0, 'rgba(255, 255, 200, 1)');
                    gradient.addColorStop(0.5, 'rgba(255, 200, 100, 0.5)');
                    gradient.addColorStop(1, 'rgba(255, 100, 50, 0)');
                    ctx.strokeStyle = gradient;
                    ctx.stroke();
                    
                    // –ì–æ–ª–æ–≤–∞ –∫–æ–º–µ—Ç—ã
                    ctx.beginPath();
                    ctx.arc(comet.x, comet.y, 4, 0, Math.PI * 2);
                    ctx.fillStyle = '#fffbe3';
                    ctx.shadowColor = 'gold';
                    ctx.shadowBlur = 20;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                });
                
                requestAnimationFrame(drawStars);
            }

            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            drawStars();
        })();

        // ==================== 2. –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê ====================
        let balance = 1000;
        let plane = document.getElementById("plane");
        let betInput = document.getElementById("betAmount");
        let balanceDisplay = document.getElementById("balance");
        let startBtn = document.getElementById("startFlight");
        let stopBtn = document.getElementById("stopFlight");
        let addBalanceBtn = document.getElementById("addBalance");
        let timerDisplay = document.getElementById("takeoffTimer");
        let planeInterval = null;
        let countdownInterval = null;
        let countdown = 10;
        let isFlying = false;
        let currentMultiplier = 1;

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
        function updateBalance() {
            balanceDisplay.innerText = balance;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
        function addBalance() {
            balance += 100;
            updateBalance();
            showNotification('+100 ‚≠ê –ø–æ–ª—É—á–µ–Ω–æ!', 'success');
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: ${type === 'success' ? 'linear-gradient(135deg, #2e7d32, #1b5e20)' : 'linear-gradient(135deg, #b71c1c, #8b0000)'};
                color: white;
                padding: 15px 30px;
                border-radius: 50px;
                font-weight: bold;
                z-index: 10000;
                box-shadow: 0 10px 30px black;
                border: 1px solid gold;
                animation: slideDown 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 2000);
        }

        // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–≥—Ä—ã (–∫–Ω–æ–ø–∫–∞ –°–¢–û–ü)
        function stopFlight() {
            if (!isFlying) return;
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
            if (planeInterval) {
                clearInterval(planeInterval);
                planeInterval = null;
            }
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã–∏–≥—Ä—ã—à (—Ç–µ–∫—É—â–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å)
            let bet = parseInt(betInput.value);
            let win = Math.floor(bet * currentMultiplier);
            balance += win;
            
            showNotification(`‚ú® –°–¢–û–ü! –í—ã–∏–≥—Ä—ã—à: ${win}‚≠ê (x${currentMultiplier.toFixed(2)})`, 'success');
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–∞–º–æ–ª–µ—Ç
            plane.style.left = "-80px";
            isFlying = false;
            stopBtn.disabled = true;
            startBtn.disabled = false;
            countdown = 10;
            timerDisplay.innerText = `üöÄ –í–∑–ª—ë—Ç —á–µ—Ä–µ–∑: ${countdown}`;
            updateBalance();
        }

        // –¢–∞–π–º–µ—Ä –¥–æ –≤–∑–ª—ë—Ç–∞
        function startCountdown() {
            if (isFlying) return;
            
            countdown = 10;
            timerDisplay.innerText = `üöÄ –í–∑–ª—ë—Ç —á–µ—Ä–µ–∑: ${countdown}`;
            startBtn.disabled = true;
            
            countdownInterval = setInterval(() => {
                countdown--;
                timerDisplay.innerText = `üöÄ –í–∑–ª—ë—Ç —á–µ—Ä–µ–∑: ${countdown}`;
                
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    countdownInterval = null;
                    startFlight();
                }
            }, 1000);
        }

        // –°—Ç–∞—Ä—Ç –ø–æ–ª–µ—Ç–∞
        function startFlight() {
            let bet = parseInt(betInput.value);
            
            if (bet > balance) { 
                showNotification("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!", 'error');
                startBtn.disabled = false;
                return; 
            }
            if (bet < 10) { 
                showNotification("‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ 10‚≠ê", 'error');
                startBtn.disabled = false;
                return; 
            }

            // –°–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫—É
            balance -= bet;
            updateBalance();

            // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª–µ—Ç–∞
            let planeLeft = -80;
            const speed = 2.5;
            currentMultiplier = 1.0;
            const maxMultiplier = 20;
            
            isFlying = true;
            stopBtn.disabled = false;
            timerDisplay.innerText = `‚úàÔ∏è –ü–û–õ–ï–¢... x${currentMultiplier.toFixed(2)}`;

            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
            planeInterval = setInterval(() => {
                planeLeft += speed;
                plane.style.left = planeLeft + "px";
                currentMultiplier += 0.02 + Math.random() * 0.03;
                timerDisplay.innerText = `‚úàÔ∏è –ú–Ω–æ–∂–∏—Ç–µ–ª—å: x${currentMultiplier.toFixed(2)}`;

                // –°–ª—É—á–∞–π–Ω–æ–µ –ø–∞–¥–µ–Ω–∏–µ –∏–ª–∏ –≤—ã—Ö–æ–¥ –∑–∞ —ç–∫—Ä–∞–Ω
                if (planeLeft > window.innerWidth + 100 || Math.random() < 0.005 || currentMultiplier >= maxMultiplier) {
                    clearInterval(planeInterval);
                    planeInterval = null;
                    
                    if (currentMultiplier < 1.1) {
                        showNotification(`üí• –°–∞–º–æ–ª–µ—Ç —É–ø–∞–ª! –ü—Ä–æ–∏–≥—Ä—ã—à: ${bet}‚≠ê`, 'error');
                    } else {
                        // –ï—Å–ª–∏ –Ω–µ –Ω–∞–∂–∞–ª–∏ —Å—Ç–æ–ø - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∏–≥—Ä—ã—à –ø—Ä–∏ —É—Ö–æ–¥–µ –∑–∞ —ç–∫—Ä–∞–Ω
                        let win = Math.floor(bet * currentMultiplier);
                        balance += win;
                        showNotification(`‚ú® –°–∞–º–æ–ª–µ—Ç —É–ª–µ—Ç–µ–ª! +${win}‚≠ê (x${currentMultiplier.toFixed(2)})`, 'success');
                    }
                    
                    // –°–±—Ä–æ—Å
                    plane.style.left = "-80px";
                    isFlying = false;
                    stopBtn.disabled = true;
                    startBtn.disabled = false;
                    countdown = 10;
                    timerDisplay.innerText = `üöÄ –í–∑–ª—ë—Ç —á–µ—Ä–µ–∑: ${countdown}`;
                    updateBalance();
                }
            }, 30);
        }

        // ========== –ö–ï–ô–°–´ (–í –°–¢–ò–õ–ï ROCKET CASE) ==========
        function openCase(caseElement) {
            let caseValue = parseInt(caseElement.dataset.case);
            
            if (balance < caseValue) {
                showNotification(`‚ùå –ù—É–∂–Ω–æ ${caseValue}‚≠ê`, 'error');
                return;
            }

            // –°–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–µ–π—Å–∞
            balance -= caseValue;
            updateBalance();

            // –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è
            caseElement.classList.add("opening");
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å (–¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã)
            let badge = caseElement.querySelector('.multiplier-badge');
            badge.style.display = 'block';
            setTimeout(() => { badge.style.display = 'none'; }, 1200);

            // –†–∞—Å—á–µ—Ç –≤—ã–∏–≥—Ä—ã—à–∞
            setTimeout(() => {
                let rand = Math.random() * 100;
                let reward = 0;
                let multiplier = 1;

                if (caseValue === 50) {
                    if (rand <= 60) { reward = 30; multiplier = 1; }
                    else if (rand <= 85) { reward = 60; multiplier = 1.5; }
                    else if (rand <= 95) { reward = 100; multiplier = 2; }
                    else { reward = 200; multiplier = 4; }
                } 
                else if (caseValue === 100) {
                    if (rand <= 50) { reward = 70; multiplier = 1; }
                    else if (rand <= 80) { reward = 120; multiplier = 1.5; }
                    else if (rand <= 95) { reward = 200; multiplier = 2.5; }
                    else { reward = 400; multiplier = 5; }
                } 
                else if (caseValue === 500) {
                    if (rand <= 40) { reward = 300; multiplier = 1; }
                    else if (rand <= 70) { reward = 600; multiplier = 1.5; }
                    else if (rand <= 90) { reward = 1000; multiplier = 2.5; }
                    else { reward = 2500; multiplier = 6; }
                }

                balance += reward;
                updateBalance();
                
                showNotification(`üéÅ –í–´–ò–ì–†–´–®: ${reward}‚≠ê (x${multiplier})`, 'success');
                
                caseElement.classList.remove("opening");
            }, 1000);
        }

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò ==========
        document.addEventListener('DOMContentLoaded', function() {
            // –ö–Ω–æ–ø–∫–∏
            startBtn.addEventListener("click", startCountdown);
            stopBtn.addEventListener("click", stopFlight);
            addBalanceBtn.addEventListener("click", addBalance);
            
            // –ö–µ–π—Å—ã
            document.querySelectorAll(".case").forEach(c => {
                c.addEventListener("click", () => openCase(c));
            });

            // –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
            updateBalance();
            stopBtn.disabled = true;
        });
    </script>
</body>
</html>
