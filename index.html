<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BOXSTARX RGB üöÄ –ù–ï–û–ù–û–í–û–ï –°–ò–Ø–ù–ò–ï</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            background: #000;
            color: #fff;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        /* ========== –ß–ï–†–ù–´–ô –§–û–ù –° –ü–†–û–õ–ï–¢–ê–Æ–©–ò–ú–ò –ó–í–ï–ó–î–ê–ú–ò ========== */
        #starCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: #000000;
            display: block;
            pointer-events: none;
        }

        /* ========== RGB –ü–ï–†–ï–õ–ò–í–´ –î–õ–Ø –í–°–ï–• –≠–õ–ï–ú–ï–ù–¢–û–í ========== */
        @keyframes rgbShift {
            0% { filter: hue-rotate(0deg); }
            25% { filter: hue-rotate(90deg); }
            50% { filter: hue-rotate(180deg); }
            75% { filter: hue-rotate(270deg); }
            100% { filter: hue-rotate(360deg); }
        }

        @keyframes rgbGlow {
            0% { text-shadow: 0 0 20px #ff0000, 0 0 40px #ff0000; }
            33% { text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00; }
            66% { text-shadow: 0 0 20px #0000ff, 0 0 40px #0000ff; }
            100% { text-shadow: 0 0 20px #ff0000, 0 0 40px #ff0000; }
        }

        @keyframes rgbBorder {
            0% { border-color: #ff0000; box-shadow: 0 0 30px #ff0000; }
            33% { border-color: #00ff00; box-shadow: 0 0 30px #00ff00; }
            66% { border-color: #0000ff; box-shadow: 0 0 30px #0000ff; }
            100% { border-color: #ff0000; box-shadow: 0 0 30px #ff0000; }
        }

        .rgb-text {
            animation: rgbGlow 5s infinite;
        }

        .rgb-border {
            animation: rgbBorder 5s infinite;
        }

        .rgb-shift {
            animation: rgbShift 10s infinite linear;
        }

        /* ========== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† ========== */
        #app {
            position: relative;
            z-index: 10;
            width: 100vw;
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }

        .container {
            min-height: 100vh;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* ========== –•–ï–î–ï–† –° RGB ========== */
        .header {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 2px solid;
            border-radius: 50px;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: rgbBorder 5s infinite;
        }

        .balance-wrap {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .balance-icon {
            font-size: 2.2rem;
            animation: rgbGlow 3s infinite;
        }

        .balance-value {
            font-size: 2rem;
            font-weight: 800;
            animation: rgbGlow 3s infinite;
        }

        /* ========== –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê –ü–û–ü–û–õ–ù–ï–ù–ò–Ø ========== */
        .add-btn {
            background: linear-gradient(45deg, #ff0000, #00ff00, #0000ff);
            background-size: 200% 200%;
            animation: gradientMove 3s infinite;
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            border: 2px solid white;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: 0.3s;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .add-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255,255,255,0.5);
        }

        .add-btn:active {
            transform: scale(0.95);
        }

        /* ========== –£–õ–£–ß–®–ï–ù–ù–´–ô –°–ê–ú–û–õ–ï–¢ ========== */
        .flight-section {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 2px solid;
            border-radius: 50px;
            padding: 20px;
            animation: rgbBorder 5s infinite;
        }

        .flight-stage {
            position: relative;
            height: 200px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid;
            border-radius: 40px;
            overflow: hidden;
            margin-bottom: 15px;
            animation: rgbBorder 5s infinite;
        }

        /* –û–±–ª–∞–∫–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è */
        .cloud {
            position: absolute;
            width: 100px;
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            filter: blur(10px);
            animation: cloudMove 8s linear infinite;
        }

        .cloud1 { top: 30px; left: -100px; animation-delay: 0s; }
        .cloud2 { top: 80px; left: -150px; animation-delay: 2s; }
        .cloud3 { top: 130px; left: -200px; animation-delay: 4s; }

        @keyframes cloudMove {
            from { transform: translateX(0); }
            to { transform: translateX(800px); }
        }

        .plane-model {
            position: absolute;
            left: -120px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 5rem;
            filter: drop-shadow(0 0 30px cyan) drop-shadow(0 0 60px magenta);
            transition: left 0.02s linear;
            z-index: 10;
            animation: planeFloat 1s infinite alternate;
        }

        @keyframes planeFloat {
            0% { transform: translateY(-50%) translateY(0); }
            100% { transform: translateY(-50%) translateY(-8px); }
        }

        .plane-trail {
            position: absolute;
            height: 15px;
            background: linear-gradient(90deg, cyan, magenta, yellow);
            top: 50%;
            transform: translateY(-50%);
            right: 0;
            border-radius: 8px;
            opacity: 0.8;
            filter: blur(5px);
            transition: width 0.02s linear;
            box-shadow: 0 0 30px cyan;
        }

        .crash-animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 6rem;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 20;
            text-shadow: 0 0 50px red, 0 0 100px orange;
            animation: crashShake 0.3s infinite;
        }

        @keyframes crashShake {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -50%) rotate(15deg); }
            75% { transform: translate(-50%, -50%) rotate(-15deg); }
        }

        /* –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .control-group {
            display: flex;
            gap: 10px;
        }

        .bet-input {
            flex: 1;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid;
            color: white;
            padding: 15px;
            border-radius: 40px;
            font-size: 1.2rem;
            text-align: center;
            outline: none;
            animation: rgbBorder 5s infinite;
        }

        .flight-button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 40px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: white;
            background: linear-gradient(45deg, #ff0000, #00ff00, #0000ff);
            background-size: 200% 200%;
            animation: gradientMove 3s infinite;
        }

        .flight-button:active {
            transform: scale(0.95);
        }

        .flight-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            animation: none;
        }

        .multiplier-panel {
            text-align: center;
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid;
            border-radius: 40px;
            animation: rgbBorder 5s infinite;
        }

        .multiplier-number {
            font-size: 2.5rem;
            font-weight: 900;
            margin-left: 10px;
            animation: rgbGlow 3s infinite;
        }

        /* ========== –ö–ï–ô–°–´ –° –£–ù–ò–ö–ê–õ–¨–ù–´–ú–ò –ö–ê–†–¢–ò–ù–ö–ê–ú–ò ========== */
        .section-head {
            font-size: 2rem;
            font-weight: 800;
            text-align: center;
            margin: 20px 0;
            animation: rgbGlow 3s infinite;
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        .cases-layout {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        /* –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–µ–π—Å–∞ */
        .case-block {
            background: rgba(0, 0, 0, 0.8);
            border: 3px solid;
            border-radius: 40px;
            padding: 20px 15px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            position: relative;
            overflow: hidden;
            animation: rgbBorder 5s infinite;
        }

        .case-block:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 0 50px cyan;
        }

        /* –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –∫–µ–π—Å–æ–≤ */
        .case-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 15px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            filter: drop-shadow(0 0 20px currentColor);
            animation: rgbGlow 3s infinite;
        }

        /* PLAYER */
        .case-icon[data-case="PLAYER"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="40" r="25" fill="%23ffaa33" stroke="%23ffd700" stroke-width="3"/><circle cx="35" cy="35" r="5" fill="white"/><circle cx="65" cy="35" r="5" fill="white"/><circle cx="42" cy="42" r="2" fill="black"/><circle cx="58" cy="42" r="2" fill="black"/><path d="M35 55 Q50 70, 65 55" stroke="%23ffd700" stroke-width="4" fill="none"/><rect x="40" y="70" width="20" height="25" fill="%23444444" rx="5"/><circle cx="45" cy="95" r="8" fill="%23333"/><circle cx="55" cy="95" r="8" fill="%23333"/></svg>');
        }

        /* BEAR */
        .case-icon[data-case="BEAR"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="30" cy="35" r="18" fill="%238B4513"/><circle cx="70" cy="35" r="18" fill="%238B4513"/><circle cx="50" cy="50" r="30" fill="%23A0522D"/><circle cx="35" cy="45" r="5" fill="black"/><circle cx="65" cy="45" r="5" fill="black"/><circle cx="42" cy="50" r="2" fill="white"/><circle cx="58" cy="50" r="2" fill="white"/><ellipse cx="50" cy="65" rx="15" ry="8" fill="%23CD853F"/><circle cx="40" cy="30" r="6" fill="%238B4513"/><circle cx="60" cy="30" r="6" fill="%238B4513"/></svg>');
        }

        /* LAMP */
        .case-icon[data-case="LAMP"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><ellipse cx="50" cy="35" rx="25" ry="30" fill="%23FFD700"/><rect x="40" y="55" width="20" height="25" fill="%23808080"/><circle cx="50" cy="80" r="10" fill="%23666"/><path d="M30 30 Q50 10, 70 30" stroke="%23FFA500" stroke-width="5" fill="none"/><circle cx="30" cy="25" r="8" fill="%23FFA500" opacity="0.8"/><circle cx="70" cy="25" r="8" fill="%23FFA500" opacity="0.8"/><circle cx="50" cy="15" r="10" fill="%23FFA500" opacity="0.6"/></svg>');
        }

        /* SKULL */
        .case-icon[data-case="SKULL"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><ellipse cx="50" cy="45" rx="25" ry="30" fill="%23E0E0E0"/><circle cx="30" cy="35" r="8" fill="black"/><circle cx="70" cy="35" r="8" fill="black"/><circle cx="35" cy="40" r="3" fill="white"/><circle cx="65" cy="40" r="3" fill="white"/><ellipse cx="50" cy="55" rx="8" ry="5" fill="black"/><path d="M35 70 Q50 85, 65 70" stroke="%23888" stroke-width="4" fill="none"/><circle cx="25" cy="70" r="8" fill="%23E0E0E0"/><circle cx="75" cy="70" r="8" fill="%23E0E0E0"/></svg>');
        }

        /* NEKO */
        .case-icon[data-case="NEKO"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="55" r="30" fill="%23FFA07A"/><circle cx="30" cy="35" r="12" fill="%23FFA07A"/><circle cx="70" cy="35" r="12" fill="%23FFA07A"/><circle cx="35" cy="30" r="4" fill="pink"/><circle cx="65" cy="30" r="4" fill="pink"/><circle cx="40" cy="50" r="5" fill="green"/><circle cx="60" cy="50" r="5" fill="green"/><circle cx="45" cy="55" r="2" fill="black"/><circle cx="55" cy="55" r="2" fill="black"/><path d="M40 70 Q50 80, 60 70" stroke="%23FF69B4" stroke-width="4" fill="none"/><line x1="25" y1="25" x2="15" y2="10" stroke="%23888" stroke-width="3"/><line x1="75" y1="25" x2="85" y2="10" stroke="%23888" stroke-width="3"/></svg>');
        }

        /* BRICK */
        .case-icon[data-case="BRICK"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="30" width="60" height="40" fill="%23B87333" rx="5"/><rect x="25" y="35" width="15" height="15" fill="%238B4513"/><rect x="45" y="35" width="15" height="15" fill="%238B4513"/><rect x="65" y="35" width="15" height="15" fill="%238B4513"/><rect x="25" y="55" width="15" height="10" fill="%238B4513"/><rect x="45" y="55" width="15" height="10" fill="%238B4513"/><rect x="65" y="55" width="15" height="10" fill="%238B4513"/><path d="M20 50 L80 50" stroke="%238B4513" stroke-width="3"/></svg>');
        }

        /* DRAGON */
        .case-icon[data-case="DRAGON"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M30 50 Q20 30, 40 20 Q60 10, 70 25 Q80 40, 65 55 Q70 70, 55 75 Q40 80, 35 70 Q25 65, 30 50" fill="%23DC143C" stroke="%23FFD700" stroke-width="3"/><circle cx="40" cy="40" r="5" fill="yellow"/><circle cx="55" cy="40" r="5" fill="yellow"/><circle cx="43" cy="42" r="2" fill="black"/><circle cx="52" cy="42" r="2" fill="black"/><path d="M45 55 Q50 65, 55 55" stroke="white" stroke-width="3" fill="none"/><path d="M20 25 L5 10 M80 20 L95 5" stroke="%23DC143C" stroke-width="4"/></svg>');
        }

        /* PHOENIX */
        .case-icon[data-case="PHOENIX"] {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 70 Q30 50, 40 30 Q50 10, 70 25 Q85 40, 65 55 Q80 70, 50 70" fill="%23FF4500" stroke="%23FFD700" stroke-width="3"/><circle cx="45" cy="40" r="4" fill="white"/><circle cx="55" cy="40" r="4" fill="white"/><circle cx="47" cy="42" r="1.5" fill="black"/><circle cx="53" cy="42" r="1.5" fill="black"/><path d="M25 25 L10 5 M75 25 L90 5" stroke="%23FF6347" stroke-width="4"/><path d="M30 65 L15 80 M70 65 L85 80" stroke="%23FF6347" stroke-width="4"/></svg>');
        }

        .case-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin: 10px 0 5px;
            animation: rgbGlow 3s infinite;
        }

        .case-value {
            font-size: 1.8rem;
            font-weight: 900;
            animation: rgbGlow 3s infinite;
        }

        /* ========== NFT –ì–ê–õ–ï–†–ï–Ø ========== */
        .nft-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .nft-item {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid;
            border-radius: 30px;
            padding: 15px 5px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            animation: rgbBorder 5s infinite;
        }

        .nft-item:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px cyan;
        }

        .nft-emoji {
            font-size: 2.5rem;
            margin-bottom: 5px;
            animation: rgbGlow 3s infinite;
        }

        .nft-name {
            font-size: 0.7rem;
            font-weight: 600;
            margin-bottom: 3px;
            animation: rgbGlow 3s infinite;
        }

        .nft-price {
            font-size: 0.8rem;
            background: rgba(255,255,255,0.1);
            padding: 3px 8px;
            border-radius: 20px;
            display: inline-block;
        }

        /* ========== –ò–ù–í–ï–ù–¢–ê–†–¨ ========== */
        .inventory-box {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 2px solid;
            border-radius: 50px;
            padding: 20px;
            animation: rgbBorder 5s infinite;
        }

        .inventory-head {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .inventory-heading {
            font-size: 1.8rem;
            font-weight: 700;
            animation: rgbGlow 3s infinite;
        }

        .inventory-counter {
            background: rgba(0,0,0,0.7);
            padding: 8px 20px;
            border-radius: 40px;
            border: 2px solid;
            animation: rgbBorder 5s infinite;
            font-size: 1.2rem;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .inventory-cell {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid;
            border-radius: 30px;
            padding: 12px 5px;
            text-align: center;
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.2s;
            animation: rgbBorder 5s infinite;
        }

        .inventory-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px cyan;
        }

        .cell-emoji {
            font-size: 2rem;
            margin-bottom: 3px;
        }

        .cell-name {
            font-size: 0.6rem;
            animation: rgbGlow 3s infinite;
        }

        .cell-price {
            font-size: 0.6rem;
            background: rgba(255,255,255,0.1);
            padding: 2px 6px;
            border-radius: 20px;
            margin-top: 3px;
        }

        .cell-empty {
            background: rgba(0, 0, 0, 0.5);
            border: 2px dashed;
            border-radius: 30px;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.8rem;
            animation: rgbBorder 5s infinite;
        }

        /* ========== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û ========== */
        .modal-window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            z-index: 2000;
            display: none;
            flex-direction: column;
            padding: 30px 20px;
            overflow-y: auto;
        }

        .modal-window.active {
            display: flex;
        }

        .modal-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-close {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: 2px solid;
            font-size: 2rem;
            cursor: pointer;
            animation: rgbBorder 5s infinite;
            color: white;
        }

        .modal-heading {
            font-size: 2.5rem;
            font-weight: 900;
            animation: rgbGlow 3s infinite;
        }

        .modal-preview {
            text-align: center;
            margin-bottom: 30px;
        }

        .modal-case-icon {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            filter: drop-shadow(0 0 30px currentColor);
            animation: rgbGlow 3s infinite;
        }

        .modal-case-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            animation: rgbGlow 3s infinite;
        }

        .modal-case-cost {
            font-size: 2rem;
            animation: rgbGlow 3s infinite;
        }

        .prizes-layout {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .prize-tile {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid;
            border-radius: 30px;
            padding: 20px 10px;
            text-align: center;
            animation: rgbBorder 5s infinite;
        }

        .prize-emoji {
            font-size: 3rem;
            margin-bottom: 10px;
            animation: rgbGlow 3s infinite;
        }

        .prize-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            animation: rgbGlow 3s infinite;
        }

        .open-case-button {
            width: 100%;
            padding: 25px;
            border: none;
            border-radius: 60px;
            font-size: 2rem;
            font-weight: 900;
            cursor: pointer;
            background: linear-gradient(45deg, #ff0000, #00ff00, #0000ff);
            background-size: 200% 200%;
            animation: gradientMove 3s infinite;
            color: white;
            text-transform: uppercase;
            letter-spacing: 4px;
            border: 2px solid white;
        }

        .open-case-button:active {
            transform: scale(0.98);
        }

        .toast {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #ff0000, #00ff00, #0000ff);
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 700;
            z-index: 3000;
            border: 2px solid white;
            animation: toastIn 0.3s;
            text-transform: uppercase;
        }

        @keyframes toastIn {
            from { top: -50px; opacity: 0; }
            to { top: 30px; opacity: 1; }
        }
    </style>
</head>
<body>
    <canvas id="starCanvas"></canvas>

    <div id="app">
        <div class="container">
            <!-- –•–µ–¥–µ—Ä -->
            <header class="header">
                <div class="balance-wrap">
                    <span class="balance-icon">‚≠ê</span>
                    <span class="balance-value" id="balanceDisplay">5000</span>
                </div>
                <button class="add-btn" id="addMoneyBtn">+100 ‚≠ê</button>
            </header>

            <!-- –°–∞–º–æ–ª–µ—Ç -->
            <section class="flight-section">
                <div class="flight-stage" id="flightStage">
                    <div class="cloud cloud1"></div>
                    <div class="cloud cloud2"></div>
                    <div class="cloud cloud3"></div>
                    <div class="plane-model" id="planeElement">‚úàÔ∏è</div>
                    <div class="plane-trail" id="trailElement" style="width: 0px;"></div>
                    <div class="crash-animation" id="crashElement">üí•</div>
                </div>
                
                <div class="control-group">
                    <input type="number" class="bet-input" id="betField" min="10" value="149" step="10">
                    <button class="flight-button" id="startFlightBtn">üöÄ –°–¢–ê–†–¢</button>
                    <button class="flight-button" id="stopFlightBtn" disabled>‚èπÔ∏è –°–¢–û–ü</button>
                </div>
                
                <div class="multiplier-panel">
                    <span>–ú–ù–û–ñ–ò–¢–ï–õ–¨:</span>
                    <span class="multiplier-number" id="multiplierDisplay">1.00x</span>
                </div>
            </section>

            <!-- NFT –≥–∞–ª–µ—Ä–µ—è -->
            <h2 class="section-head">üéÅ NFT –ü–û–î–ê–†–ö–ò</h2>
            <div class="nft-grid" id="nftContainer"></div>

            <!-- –ö–µ–π—Å—ã -->
            <h2 class="section-head">üì¶ –ö–û–°–ú–ò–ß–ï–°–ö–ò–ï –ö–ï–ô–°–´</h2>
            <div class="cases-layout" id="casesContainer"></div>

            <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
            <section class="inventory-box">
                <div class="inventory-head">
                    <span class="inventory-heading">–ò–ù–í–ï–ù–¢–ê–†–¨</span>
                    <span class="inventory-counter" id="inventoryCounter">0/24</span>
                </div>
                <div class="inventory-grid" id="inventoryContainer"></div>
            </section>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div class="modal-window" id="caseModal">
        <div class="modal-bar">
            <button class="modal-close" id="closeModalBtn">‚Üê</button>
            <div class="modal-heading" id="modalTitle">–ö–ï–ô–°</div>
            <div style="width: 60px;"></div>
        </div>
        
        <div class="modal-preview">
            <div class="modal-case-icon" id="modalIcon"></div>
            <div class="modal-case-title" id="modalCaseTitle">–ù–ê–ó–í–ê–ù–ò–ï</div>
            <div class="modal-case-cost" id="modalCaseCost">‚òÖ 0</div>
        </div>
        
        <h3 class="section-head">–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ó–´</h3>
        <div class="prizes-layout" id="modalPrizes"></div>
        
        <button class="open-case-button" id="openCaseBtn">–û–¢–ö–†–´–¢–¨ –ó–ê ‚òÖ 0</button>
    </div>

    <script>
        (function() {
            'use strict';

            // ========== –ó–í–ï–ó–î–ù–´–ô –§–û–ù (–ß–ï–†–ù–´–ô –° –ü–†–û–õ–ï–¢–ê–Æ–©–ò–ú–ò –ó–í–ï–ó–î–ê–ú–ò) ==========
            const canvas = document.getElementById('starCanvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let stars = [];

            function initStars() {
                stars = [];
                for (let i = 0; i < 150; i++) {
                    stars.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        size: Math.random() * 3 + 1,
                        speed: Math.random() * 5 + 2,
                        brightness: Math.random() * 0.5 + 0.5
                    });
                }
            }

            function resizeCanvas() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                initStars();
            }

            function drawStars() {
                ctx.clearRect(0, 0, width, height);
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, width, height);
                
                for (let s of stars) {
                    s.x += s.speed;
                    if (s.x > width) {
                        s.x = 0;
                        s.y = Math.random() * height;
                    }
                    
                    ctx.globalAlpha = s.brightness;
                    ctx.fillStyle = '#ffffff';
                    ctx.shadowColor = '#ffffff';
                    ctx.shadowBlur = 10;
                    ctx.beginPath();
                    ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                requestAnimationFrame(drawStars);
            }

            // ========== –î–ê–ù–ù–´–ï ==========
            const NFT_GIFTS = [
                { emoji: "üéÇ", name: "–¢–û–†–¢", price: 15, rarity: 1 },
                { emoji: "‚ù§Ô∏è", name: "–°–ï–†–î–¶–ï", price: 25, rarity: 1 },
                { emoji: "üî•", name: "–û–ì–û–ù–¨", price: 50, rarity: 1 },
                { emoji: "üéÅ", name: "–ü–û–î–ê–†–û–ö", price: 50, rarity: 1 },
                { emoji: "üéâ", name: "–ü–†–ê–ó–î–ù–ò–ö", price: 100, rarity: 1 },
                { emoji: "üíé", name: "–ê–õ–ú–ê–ó", price: 100, rarity: 1 },
                { emoji: "üëë", name: "–ö–û–†–û–ù–ê", price: 150, rarity: 2 },
                { emoji: "üöÄ", name: "–†–ê–ö–ï–¢–ê", price: 150, rarity: 2 },
                { emoji: "‚≠ê", name: "–ó–í–ï–ó–î–ê", price: 250, rarity: 2 },
                { emoji: "üåü", name: "–°–£–ü–ï–†–ó–í–ï–ó–î–ê", price: 300, rarity: 2 },
                { emoji: "üí´", name: "–ö–û–ú–ï–¢–ê", price: 500, rarity: 3 },
                { emoji: "‚ö°", name: "–ú–û–õ–ù–ò–Ø", price: 500, rarity: 3 },
                { emoji: "üéà", name: "–®–ê–†", price: 750, rarity: 3 },
                { emoji: "üéä", name: "–ö–û–ù–§–ï–¢–¢–ò", price: 1000, rarity: 3 },
                { emoji: "‚ú®", name: "–ë–õ–ï–°–¢–ö–ò", price: 1500, rarity: 4 },
                { emoji: "ü¶Ñ", name: "–ï–î–ò–ù–û–†–û–ì", price: 2500, rarity: 4 }
            ];

            const CASES = [
                { name: "PLAYER", price: 149, gifts: [0,1,2,3] },
                { name: "BEAR", price: 199, gifts: [1,2,3,4] },
                { name: "LAMP", price: 249, gifts: [2,3,4,5] },
                { name: "SKULL", price: 499, gifts: [3,4,5,6] },
                { name: "NEKO", price: 999, gifts: [4,5,6,7] },
                { name: "BRICK", price: 1499, gifts: [5,6,7,8] },
                { name: "DRAGON", price: 2499, gifts: [6,7,8,9] },
                { name: "PHOENIX", price: 3999, gifts: [7,8,9,10] }
            ];

            // ========== –°–û–°–¢–û–Ø–ù–ò–ï ==========
            const state = {
                balance: 5000,
                inventory: [],
                currentCase: null,
                isFlying: false,
                multiplier: 1,
                intervalId: null,
                planePos: -120
            };

            // ========== DOM –≠–õ–ï–ú–ï–ù–¢–´ ==========
            const elements = {
                balance: document.getElementById('balanceDisplay'),
                addMoney: document.getElementById('addMoneyBtn'),
                startBtn: document.getElementById('startFlightBtn'),
                stopBtn: document.getElementById('stopFlightBtn'),
                betField: document.getElementById('betField'),
                multiplier: document.getElementById('multiplierDisplay'),
                plane: document.getElementById('planeElement'),
                trail: document.getElementById('trailElement'),
                crash: document.getElementById('crashElement'),
                nftContainer: document.getElementById('nftContainer'),
                casesContainer: document.getElementById('casesContainer'),
                inventoryContainer: document.getElementById('inventoryContainer'),
                inventoryCounter: document.getElementById('inventoryCounter'),
                modal: document.getElementById('caseModal'),
                closeModal: document.getElementById('closeModalBtn'),
                modalTitle: document.getElementById('modalTitle'),
                modalIcon: document.getElementById('modalIcon'),
                modalCaseTitle: document.getElementById('modalCaseTitle'),
                modalCaseCost: document.getElementById('modalCaseCost'),
                modalPrizes: document.getElementById('modalPrizes'),
                openCaseBtn: document.getElementById('openCaseBtn')
            };

            // ========== –°–û–•–†–ê–ù–ï–ù–ò–ï ==========
            function saveGame() {
                localStorage.setItem('bsx_rgb_balance', state.balance);
                localStorage.setItem('bsx_rgb_inventory', JSON.stringify(state.inventory));
            }

            function loadGame() {
                const savedBalance = localStorage.getItem('bsx_rgb_balance');
                const savedInventory = localStorage.getItem('bsx_rgb_inventory');
                if (savedBalance) state.balance = parseInt(savedBalance) || 5000;
                if (savedInventory) state.inventory = JSON.parse(savedInventory) || [];
                updateUI();
            }

            function showToast(msg, isSuccess = true) {
                const toast = document.createElement('div');
                toast.className = 'toast';
                toast.textContent = msg;
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 2000);
            }

            function updateUI() {
                if (elements.balance) elements.balance.textContent = state.balance;
                updateInventory();
            }

            function updateInventory() {
                if (!elements.inventoryContainer) return;
                
                elements.inventoryContainer.innerHTML = '';
                elements.inventoryCounter.textContent = `${state.inventory.length}/24`;
                
                for (let i = 0; i < Math.min(state.inventory.length, 24); i++) {
                    const item = state.inventory[i];
                    const slot = document.createElement('div');
                    slot.className = 'inventory-cell';
                    slot.innerHTML = `
                        <div class="cell-emoji">${item.emoji}</div>
                        <div class="cell-name">${item.name}</div>
                        <div class="cell-price">${item.price}‚≠ê</div>
                    `;
                    slot.addEventListener('click', () => sellItem(i));
                    elements.inventoryContainer.appendChild(slot);
                }
                
                for (let i = state.inventory.length; i < 24; i++) {
                    const empty = document.createElement('div');
                    empty.className = 'cell-empty';
                    empty.textContent = '–ø—É—Å—Ç–æ';
                    elements.inventoryContainer.appendChild(empty);
                }
            }

            function sellItem(index) {
                const item = state.inventory[index];
                const price = Math.floor(item.price * 0.8);
                state.balance += price;
                state.inventory.splice(index, 1);
                updateUI();
                saveGame();
                showToast(`‚úÖ –ü—Ä–æ–¥–∞–Ω –∑–∞ ${price}‚≠ê`);
            }

            // ========== –°–ê–ú–û–õ–ï–¢ ==========
            function startFlight() {
                const bet = parseInt(elements.betField?.value) || 149;
                
                if (bet > state.balance) {
                    showToast('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!');
                    return;
                }
                
                if (bet < 10) {
                    showToast('‚ùå –ú–∏–Ω. —Å—Ç–∞–≤–∫–∞ 10‚≠ê');
                    return;
                }
                
                state.balance -= bet;
                updateUI();
                
                state.isFlying = true;
                state.multiplier = 1;
                state.planePos = -120;
                elements.startBtn.disabled = true;
                elements.stopBtn.disabled = false;
                elements.crash.style.opacity = '0';
                
                if (state.intervalId) clearInterval(state.intervalId);
                
                state.intervalId = setInterval(() => {
                    if (!state.isFlying) return;
                    
                    state.planePos += 2.5;
                    elements.plane.style.left = state.planePos + 'px';
                    elements.trail.style.width = (state.planePos + 140) + 'px';
                    
                    state.multiplier += 0.025 + Math.random() * 0.03;
                    elements.multiplier.textContent = state.multiplier.toFixed(2) + 'x';
                    
                    if (Math.random() < 0.01 + (state.multiplier - 1) * 0.005) {
                        crashPlane(bet);
                    }
                    
                    if (state.planePos > 600) {
                        crashPlane(bet);
                    }
                }, 30);
            }

            function crashPlane(bet) {
                clearInterval(state.intervalId);
                state.intervalId = null;
                
                state.isFlying = false;
                elements.startBtn.disabled = false;
                elements.stopBtn.disabled = true;
                elements.crash.style.opacity = '1';
                elements.multiplier.textContent = 'üí• –ü–ê–î–ï–ù–ò–ï';
                
                setTimeout(() => {
                    state.planePos = -120;
                    elements.plane.style.left = '-120px';
                    elements.trail.style.width = '0px';
                    elements.crash.style.opacity = '0';
                    elements.multiplier.textContent = '1.00x';
                }, 1000);
                
                showToast(`üí• –ü—Ä–æ–∏–≥—Ä—ã—à: ${bet}‚≠ê`);
            }

            function stopFlight() {
                if (!state.isFlying) return;
                
                clearInterval(state.intervalId);
                state.intervalId = null;
                
                const bet = parseInt(elements.betField?.value) || 149;
                const win = Math.floor(bet * state.multiplier);
                
                state.balance += win;
                updateUI();
                saveGame();
                
                state.isFlying = false;
                elements.startBtn.disabled = false;
                elements.stopBtn.disabled = true;
                
                state.planePos = -120;
                elements.plane.style.left = '-120px';
                elements.trail.style.width = '0px';
                elements.multiplier.textContent = '1.00x';
                
                showToast(`‚ú® –í—ã–∏–≥—Ä—ã—à: ${win}‚≠ê`);
            }

            // ========== –ö–ï–ô–°–´ ==========
            function openCaseModal(caseData) {
                state.currentCase = caseData;
                elements.modalTitle.textContent = caseData.name;
                elements.modalIcon.setAttribute('data-case', caseData.name);
                elements.modalCaseTitle.textContent = caseData.name;
                elements.modalCaseCost.textContent = `‚òÖ ${caseData.price}`;
                elements.openCaseBtn.textContent = `–û–¢–ö–†–´–¢–¨ –ó–ê ‚òÖ ${caseData.price}`;
                
                elements.modalPrizes.innerHTML = '';
                caseData.gifts.forEach(idx => {
                    const gift = NFT_GIFTS[idx];
                    const prize = document.createElement('div');
                    prize.className = 'prize-tile';
                    prize.innerHTML = `
                        <div class="prize-emoji">${gift.emoji}</div>
                        <div class="prize-name">${gift.name}</div>
                        <div>${gift.rarity}‚òÖ</div>
                    `;
                    elements.modalPrizes.appendChild(prize);
                });
                
                elements.modal.classList.add('active');
            }

            function openCase() {
                if (!state.currentCase) return;
                
                if (state.balance < state.currentCase.price) {
                    showToast('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!');
                    return;
                }
                
                state.balance -= state.currentCase.price;
                
                if (Math.random() < 0.3) {
                    const mult = 1.5 + Math.random() * 0.5;
                    const idx = state.currentCase.gifts[Math.floor(Math.random() * state.currentCase.gifts.length)];
                    const gift = { ...NFT_GIFTS[idx] };
                    gift.price = Math.floor(gift.price * mult);
                    state.inventory.push(gift);
                    showToast(`üéâ –í–´–ò–ì–†–´–® x${mult.toFixed(2)}!`);
                } else {
                    if (Math.random() < 0.5) {
                        const stars = Math.floor(state.currentCase.price * 0.3);
                        state.balance += stars;
                        showToast(`‚≠ê –£—Ç–µ—à–µ–Ω–∏–µ: ${stars}‚≠ê`);
                    } else {
                        const idx = state.currentCase.gifts[0];
                        const gift = { ...NFT_GIFTS[idx] };
                        gift.price = Math.floor(gift.price * 0.3);
                        state.inventory.push(gift);
                        showToast(`üì¶ –£—Ç–µ—à–µ–Ω–∏–µ: ${gift.name}`);
                    }
                }
                
                updateUI();
                saveGame();
            }

            // ========== –†–ï–ù–î–ï–†–ò–ù–ì ==========
            function renderNFTs() {
                elements.nftContainer.innerHTML = '';
                NFT_GIFTS.slice(0, 16).forEach(g => {
                    const card = document.createElement('div');
                    card.className = 'nft-item';
                    card.innerHTML = `
                        <div class="nft-emoji">${g.emoji}</div>
                        <div class="nft-name">${g.name}</div>
                        <div class="nft-price">${g.price}‚≠ê</div>
                    `;
                    card.addEventListener('click', () => {
                        if (state.balance >= g.price) {
                            state.balance -= g.price;
                            state.inventory.push(g);
                            updateUI();
                            saveGame();
                            showToast(`üéÅ –ö—É–ø–ª–µ–Ω: ${g.name}`);
                        } else {
                            showToast('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!');
                        }
                    });
                    elements.nftContainer.appendChild(card);
                });
            }

            function renderCases() {
                elements.casesContainer.innerHTML = '';
                CASES.forEach(c => {
                    const card = document.createElement('div');
                    card.className = 'case-block';
                    card.innerHTML = `
                        <div class="case-icon" data-case="${c.name}"></div>
                        <div class="case-title">${c.name}</div>
                        <div class="case-value">‚òÖ ${c.price}</div>
                    `;
                    card.addEventListener('click', () => openCaseModal(c));
                    elements.casesContainer.appendChild(card);
                });
            }

            // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
            function init() {
                resizeCanvas();
                initStars();
                drawStars();
                
                renderNFTs();
                renderCases();
                loadGame();

                elements.addMoney.addEventListener('click', () => {
                    state.balance += 100;
                    updateUI();
                    saveGame();
                    showToast('+100‚≠ê –ø–æ–ª—É—á–µ–Ω–æ!');
                });

                elements.startBtn.addEventListener('click', startFlight);
                elements.stopBtn.addEventListener('click', stopFlight);
                
                elements.closeModal.addEventListener('click', () => {
                    elements.modal.classList.remove('active');
                });
                
                elements.openCaseBtn.addEventListener('click', openCase);
                
                elements.modal.addEventListener('click', (e) => {
                    if (e.target === elements.modal) {
                        elements.modal.classList.remove('active');
                    }
                });

                window.addEventListener('resize', () => {
                    resizeCanvas();
                    initStars();
                });
            }

            init();
        })();
    </script>
</body>
</html>
